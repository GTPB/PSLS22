<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lieven Clement" />


<title>1. Introduction: Why do we need statistics</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PSLS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-chalkboard-teacher"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-intro.html">1. Introduction</a>
    </li>
    <li>
      <a href="02-concepts.html">2. Concepts</a>
    </li>
    <li>
      <a href="03-experimentalDesign.html">3. Experimental Design I</a>
    </li>
    <li>
      <a href="04-dataExploration.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05-statisticalInference.html">5.1 Statistical Inference 1</a>
    </li>
    <li>
      <a href="05-statisticalInference-twosampleT.html">5.2 Statistical Inference 2</a>
    </li>
    <li>
      <a href="06-linearRegression.html">6. Linear Regression</a>
    </li>
    <li>
      <a href="07-Anova.html">7. Analysis of Variance</a>
    </li>
    <li>
      <a href="08-MultipleRegression.html">8. Multiple Regression</a>
    </li>
    <li>
      <a href="08-MultipleRegression-SpecificDesigns.html">8.2 Multiple Regression: Factorial Designs</a>
    </li>
    <li>
      <a href="08-experimentalDesignII.html">8.3. Experimental Design II</a>
    </li>
    <li>
      <a href="08-experimentalDesignIII.html">8.4. Experimental Design II</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-WilcoxonMannWithney.html">9.1. Nonparametric Statistics 1</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-KruskalWallis.html">9.2. Nonparametric Statistics 2</a>
    </li>
    <li>
      <a href="10-categoricalDataAnalysis.html">10. Categorical Data Analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="04_exercises.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05_exercises.html">5. Statistical inference</a>
    </li>
    <li>
      <a href="06_exercises.html">6. Simple linear regression</a>
    </li>
    <li>
      <a href="07_exercises.html">7. ANOVA</a>
    </li>
    <li>
      <a href="08_exercises.html">8. Multiple linear regression</a>
    </li>
    <li>
      <a href="09_exercises.html">9. Non-parametric statistics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statOmics/PSLS">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="http://statomics.github.io/">statOmics</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">1. Introduction: Why do we need statistics</h1>
<h4 class="author">Lieven Clement</h4>
<h4 class="date">statOmics, Ghent University (<a href="https://statomics.github.io" class="uri">https://statomics.github.io</a>)</h4>

</div>


<div id="motivation" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Motivation</h1>
<p><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a></p>
<p><img src="https://images.martechadvisor.com/images/uploads/content_images/ways_to_capture_b2b_customer_data_5bacd2dbe1a09.png" /></p>
<p><img src="figures/wpGraph.jpeg" /></p>
<ul>
<li>We live in a big data era</li>
<li>Data on location, clicks, e-commerce, social media …</li>
<li>Life Sciences: measure expression of thousands of genes, proteins, … for each subject or even individual cells</li>
<li>Data driven journalism</li>
<li>…</li>
</ul>
<p>Statistics is the science to learn from empirical data.</p>
<p>Statistical literacy is key to interpret results from scientific publications.</p>
<div id="there-are-three-types-of-lies-lies-damn-lies-and-statistics" class="section level2 unnumbered">
<h2 class="unnumbered">There are three types of lies: lies, damn lies and statistics</h2>
<hr />
</div>
<div id="there-are-three-types-of-lies-lies-damn-lies-and-bad-statistics" class="section level2 unnumbered">
<h2 class="unnumbered">There are three types of lies: lies, damn lies and bad statistics</h2>
<hr />
<p><a href="https://www.medrxiv.org/content/10.1101/2020.07.17.20155846v1" class="uri">https://www.medrxiv.org/content/10.1101/2020.07.17.20155846v1</a></p>
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/Fonseca2020CovidVegetables.png" /></p>
<hr />
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/covidVegetables6.png" style="width:70.0%" /></p>
<hr />
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/covidVegetables.png" style="width:70.0%" /></p>
<p>“The authors state: The negative ecological association between COVID-19 mortality and the consumption of cabbage and cucumber supports the a priori hypothesis previously reported. In this hypothesis, we proposed that vegetables such as Brassica - with an antioxidant activity reducing insulin resistance - may also be associated with low COVID-19 mortality in countries.”</p>
<p>” Though our results do not allow to infer causality, they do reinforce our a priory hypothesis that the ingestion of anti-oxidant foods acting on insulin intolerance may have reduced the severity of COVID-19. ”</p>
<hr />
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/covidVegetables4.png" /></p>
<hr />
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/covidVegetables3.png" /></p>
<ul>
<li>Many hypotheses are assessed ?!</li>
<li>Causality ?!</li>
<li>Experimental design: Observational study</li>
<li>Based on the data we cannot provide recommendations at the subject level</li>
</ul>
<hr />
<p><img src="https://github.com/statOmics/sbc20/raw/master/figures/covidVegetables2.png" style="width:70.0%" /></p>
<ul>
<li>Importance of Data Exploration!</li>
<li>Data does not exhibit the trend</li>
<li>Data shows evidence for two clusters: above and below 200 deaths/million</li>
<li>Model for cucumber does not model the data correctly: Overestimation of death rate for many countries e.g. Portugal, Hungary, …</li>
</ul>
<hr />
<p><img src="figures/fear.png" width="10%" style="float:right; padding:10px" /></p>
<p>Papers are merged, published, and 39 times cited</p>
<p>Bousquet et al. (2021). Cabbage and fermented vegetables: From death rate heterogeneity in countries to candidates for mitigation strategies of severe COVID-19. Allergy 76:735–750.</p>
<hr />
<p>In the example we covered issues with three important branches in statistics</p>
<ol style="list-style-type: decimal">
<li>Statistical inference</li>
</ol>
<ul>
<li>Is there an association between COVID-19 mortality and food consumption?</li>
<li>Issue in study:
<ul>
<li>data dredging, p-hacking, …: when you assess many hypotheses you will allways find strong patterns by random change <span class="math inline">\(\rightarrow\)</span> correct for multiple testing!</li>
<li>Assumptions of the models do not hold</li>
<li>Confounding</li>
</ul></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p>Experimental design</p>
<ul>
<li><p>Confounding: countries do not only differ in consumption of a vegetable but also in may other variables (demographical, COVID measures, healty care, …) that are associated with COVID mortality.</p></li>
<li><p>Difficult to draw causal conclusions from observational studies.</p></li>
<li><p>In experimental studies: randomisation! <span class="math inline">\(\rightarrow\)</span> so that the groups only differ in the treatment.</p></li>
<li><p>Experimental studies are therefore the golden standard</p></li>
</ul></li>
<li><p>Data exploration and visualisation</p>
<ul>
<li>Crucial to get insight in the data!</li>
<li>Assess model assumptions</li>
</ul></li>
</ol>
<hr />
</div>
</div>
<div id="smelly-armpit-example" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Smelly armpit example</h1>
<ul>
<li><p>Smelly armpits are not caused by sweat itself. The smell is caused by specific micro-organisms belonging to the group of <em>Corynebacterium spp.</em> that metabolise sweat. Another group of abundant bacteria are the <em>Staphylococcus spp.</em>, these bacteria do not metabolise sweat in smelly compounds.</p></li>
<li><p>The CMET-groep at Ghent University does research on transplanting the armpit microbiome to save people with smelly armpits.</p></li>
<li><p>Proposed Therapy:</p>
<ol style="list-style-type: decimal">
<li>Remove armpit-microbiome with antibiotics</li>
<li>Influence armpit microbiome with microbial transplant (<a href="https://youtu.be/9RIFyqLXdVw" class="uri">https://youtu.be/9RIFyqLXdVw</a>)</li>
</ol></li>
</ul>
<p><img src="01-intro_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Experiment:</p>
<ul>
<li>20 subjects with smelly armpits are attributed to one of two treatment groups</li>
<li>placebo (only antibiotics)</li>
<li>transplant (antibiotics followed by microbial transplant).</li>
<li>The microbiome is sampled 6 weeks upon the treatment.</li>
<li>The relative abundance of <em>Staphylococcus spp.</em> on <em>Corynebacterium spp.</em> + <em>Staphylococcus spp.</em> in the microbiome is measured via DGGE (<em>Denaturing Gradient Gel Electrophoresis</em>).</li>
</ul></li>
</ul>
<hr />
<div id="import-the-data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Import the data</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_lines</span>(<span class="st">&quot;https://raw.githubusercontent.com/GTPB/PSLS20/master/data/armpit.csv&quot;</span>)</span></code></pre></div>
<pre><code> [1] &quot;trt,rel&quot;                       &quot;placebo,54.99207606973059&quot;    
 [3] &quot;placebo,31.84466019417476&quot;     &quot;placebo,41.09947643979057&quot;    
 [5] &quot;placebo,59.52063914780293&quot;     &quot;placebo,63.573407202216075&quot;   
 [7] &quot;placebo,41.48648648648649&quot;     &quot;placebo,30.44041450777202&quot;    
 [9] &quot;placebo,42.95676429567643&quot;     &quot;placebo,41.7391304347826&quot;     
[11] &quot;placebo,33.896515311510036&quot;    &quot;transplant,57.218124341412015&quot;
[13] &quot;transplant,72.50900360144058&quot;  &quot;transplant,61.89258312020461&quot; 
[15] &quot;transplant,56.690140845070424&quot; &quot;transplant,76&quot;                
[17] &quot;transplant,71.7357910906298&quot;   &quot;transplant,57.757296466973884&quot;
[19] &quot;transplant,65.1219512195122&quot;   &quot;transplant,67.53424657534246&quot; 
[21] &quot;transplant,77.55359394703657&quot; </code></pre>
<p>The file is comma separated and in tidy format</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ap<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/GTPB/PSLS20/master/data/armpit.csv&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>ap</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["trt"],"name":[1],"type":["chr"],"align":["left"]},{"label":["rel"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"placebo","2":"54.99208"},{"1":"placebo","2":"31.84466"},{"1":"placebo","2":"41.09948"},{"1":"placebo","2":"59.52064"},{"1":"placebo","2":"63.57341"},{"1":"placebo","2":"41.48649"},{"1":"placebo","2":"30.44041"},{"1":"placebo","2":"42.95676"},{"1":"placebo","2":"41.73913"},{"1":"placebo","2":"33.89652"},{"1":"transplant","2":"57.21812"},{"1":"transplant","2":"72.50900"},{"1":"transplant","2":"61.89258"},{"1":"transplant","2":"56.69014"},{"1":"transplant","2":"76.00000"},{"1":"transplant","2":"71.73579"},{"1":"transplant","2":"57.75730"},{"1":"transplant","2":"65.12195"},{"1":"transplant","2":"67.53425"},{"1":"transplant","2":"77.55359"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<hr />
</div>
<div id="data-exploration-and-descriptive-statistics" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Data Exploration and Descriptive Statistics</h2>
<ul>
<li>Data exploration is extremely important to get insight in the data.</li>
<li>It is often underrated and overlooked.</li>
</ul>
<div id="descriptive-statistics" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Descriptive statistics</h3>
<p>We first summarize the data and calculate the mean, standard deviation, number of observations and standard error and store the result in an object apRelSum via ’apRelSum&lt;-`</p>
<ol style="list-style-type: decimal">
<li>We pipe the <code>ap</code> dataframe to the group_by function to group the data by treatment trt <code>group_by(trt)</code></li>
<li>We pipe the result to the <code>summarize_at</code> function to summarize the “rel” variable and calculate the mean, standard deviation and the number of observations</li>
<li>We pipe the result to the <code>mutate</code> function to make a new variable in the data frame <code>se</code> for which we calculate the standard error</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>apRelSum<span class="ot">&lt;-</span>ap<span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trt)<span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_at</span>(<span class="st">&quot;rel&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">list</span>(<span class="at">mean=</span><span class="sc">~</span><span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sd=</span><span class="sc">~</span><span class="fu">sd</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n=</span><span class="cf">function</span>(x) x<span class="sc">%&gt;%</span>is.na<span class="sc">%&gt;%</span><span class="st">`</span><span class="at">!</span><span class="st">`</span><span class="sc">%&gt;%</span>sum)) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>apRelSum</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["trt"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["se"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"placebo","2":"44.15496","3":"11.543251","4":"10","5":"3.650297"},{"1":"transplant","2":"66.40127","3":"7.880176","4":"10","5":"2.491930"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<hr />
</div>
<div id="plots" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Plots</h3>
<p>We will use ggplot2 to make our plots. With the ggplot2 library we can easily build plots by adding layers.</p>
<div id="barplot" class="section level4" number="2.2.2.1">
<h4><span class="header-section-number">2.2.2.1</span> barplot</h4>
<ol style="list-style-type: decimal">
<li><p>We pipe our summarized data to the <code>ggplot</code> function and we select the treatment variable trt and the variable mean for plotting <code>aes(x=trt,y=mean)</code></p></li>
<li><p>We make a barplot based on this data using the <code>geom_bar</code> function. The statistic is <code>stat="identity"</code> because the bar height should be equal the value for the mean of the relative abundance.</p></li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>apRelSum<span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>trt,<span class="at">y=</span>mean)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ul>
<li>Is this plot informative??</li>
</ul>
<hr />
<p>We will now add standard errors to the plot using <code>geom_errorbar</code> function and specify the minimum and maximum value for of the error bar, the width command is used to set the width of the error bar smaller than the width of the bar.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>apRelSum<span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>trt,<span class="at">y=</span>mean)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>mean<span class="sc">-</span>se,<span class="at">ymax=</span>mean<span class="sc">+</span>se),<span class="at">width=</span>.<span class="dv">2</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<ul>
<li>Is this plot informative??</li>
</ul>
<hr />
</div>
<div id="boxplots" class="section level4" number="2.2.2.2">
<h4><span class="header-section-number">2.2.2.2</span> boxplots</h4>
<p>I consider barplots to be bad plots</p>
<ul>
<li>They are not informative</li>
<li>They just visualize a two point summary of the data. It is better to do this in a table</li>
<li>They use a lot of space (e.g. from zero up to the minimum relative abundance) where no data are present.</li>
</ul>
<p>It is better to get a view on the distribution of the data. We can use a boxplot for this purpose. We first explain what a boxplot.</p>
<hr />
<p><img src="01-intro_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
<p>We will now make a boxplot for the ap data</p>
<ol style="list-style-type: decimal">
<li>We pipe the <code>ap</code> dataframe to the ggplot command</li>
<li>We select the data with the command <code>ggplot(aes(x=trt,y=rel))</code></li>
<li>We add a boxplot with the command <code>geom_boxplot()</code></li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ap <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>trt,<span class="at">y=</span>rel)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<hr />
<ul>
<li><p>Note, that we do not have so many observations.</p></li>
<li><p>It is always better to show the data as raw as possible!</p></li>
</ul>
<p>We will now add the raw data to the plot.</p>
<ul>
<li>Note that we set the outlier.shape=NA in the geom_boxplot function because because we will add all raw data anyway.</li>
<li>We add the raw data using <code>geom_point(position="jitter")</code>, with the argument position=‘jitter’ we will add some random noise to the x coordinate so that we can see all data.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ap <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>trt,<span class="at">y=</span>rel)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>This is an informative plot!</p>
<hr />
<ul>
<li><p>We observed an effect of the transplantation on the relatieve abundantie of Staphylococcus.</p></li>
<li><p>Is that effect large enough to conclude that the treatment works?</p></li>
</ul>
<hr />
</div>
</div>
</div>
<div id="estimation-and-statistical-inference" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Estimation and statistical inference</h2>
<ul>
<li><p>Induction: With statistical inference we can generalize what we observe in the sample towards the population.</p></li>
<li><p>The price that we have to pay: uncertainty on our conclusions!</p></li>
</ul>
<hr />
<ul>
<li><p>With data we cannot prove that the treatment works</p></li>
<li><p>Falsification principle of Popper: With data we can only reject a hypothesis or theory.</p></li>
<li><p>With stats we can thus not prove that the treatment works.</p></li>
<li><p>But stats will allow us to falcify the opposite hypothesis: how much evidence is there in the data against the assumption that there is no effect of the treatment?</p></li>
<li><p>With stats we can calculate how likely it is to draw a random sample (when you would repeat the experiment) with a mean difference in relative abundance between transplant and placebo group that is at least as large as what we observed in our sample when there would be no effect of the treatment.</p></li>
<li><p>This probability is called a p-value.</p></li>
<li><p>If p is very small, it is very unlikely to observe a sample like ours by random change when there would be no effect of the treatment.</p></li>
<li><p>We typically compare p with 5%. If there is no effect of the treatment we will thus tolerate a probability of 5% on a false positive conclusion.</p></li>
<li><p>To calculate p we will have to model the data using statistical models.</p></li>
</ul>
<hr />
<p>In chapter 5 we will learn that we can use a two-sample t-test to generalise what we observe in the microbiome dataset towards the population.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(rel<span class="sc">~</span>trt,<span class="at">data=</span>ap)</span></code></pre></div>
<pre><code>
    Welch Two Sample t-test

data:  rel by trt
t = -5.0334, df = 15.892, p-value = 0.0001249
alternative hypothesis: true difference in means between group placebo and group transplant is not equal to 0
95 percent confidence interval:
 -31.62100 -12.87163
sample estimates:
   mean in group placebo mean in group transplant 
                44.15496                 66.40127 </code></pre>
<p>Conclusion:</p>
<p>We can conclude that the relative abundance of Staphylococcus in the microbiome of individuals with smelly armpits is 22.2% higher upon the transplant than upon the placebo treatment (p &lt; 0.001).</p>
<hr />
</div>
<div id="some-concepts" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Some concepts</h2>
<p>What are the consequences of using a sample and randomisation?</p>
<ul>
<li><p>Random sampling is closely related to the concept of the population or the scope of the study.</p></li>
<li><p>Based on a sample of subjects, the researchers want to come to conclusions that hold for</p>
<ul>
<li>all kinds of people</li>
<li>only male students</li>
</ul></li>
<li><p>Scope of the study should be well specified before the start of the study.</p></li>
<li><p>For the statistical analysis to be valid, it is required that the subjects are selected completely at random from the population to which we want to generalize our conclusions.</p></li>
<li><p>Selecting completely at random from a population implies:</p>
<ul>
<li>all subjects in the population should have the same probability of being selected in the sample,</li>
<li>the selection of a subject in the sample should be independent from the selection of the other subjects in the sample.</li>
</ul></li>
<li><p>The sample is thus supposed to be representative for the population, but still it is random.</p></li>
<li><p>What does this imply?</p></li>
</ul>
<hr />
</div>
</div>
<div id="sample-to-sample-variability" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Sample to sample variability</h1>
<p>National Health NHanes study</p>
<ul>
<li>Since 1960 individuals of all ages are interviewed in their homes every year</li>
<li>The health examination component of the survey is conducted in a mobile examination centre (MEC).</li>
<li>We will use this large study to select random subjects from the American population.</li>
<li>This will help us to understand how the results of an analysis and the conclusions vary from sample to sample.</li>
</ul>
<hr />
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(NHANES)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(NHANES)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["int"],"align":["right"]},{"label":["SurveyYr"],"name":[2],"type":["fct"],"align":["left"]},{"label":["Gender"],"name":[3],"type":["fct"],"align":["left"]},{"label":["Age"],"name":[4],"type":["int"],"align":["right"]},{"label":["AgeDecade"],"name":[5],"type":["fct"],"align":["left"]},{"label":["AgeMonths"],"name":[6],"type":["int"],"align":["right"]},{"label":["Race1"],"name":[7],"type":["fct"],"align":["left"]},{"label":["Race3"],"name":[8],"type":["fct"],"align":["left"]},{"label":["Education"],"name":[9],"type":["fct"],"align":["left"]},{"label":["MaritalStatus"],"name":[10],"type":["fct"],"align":["left"]},{"label":["HHIncome"],"name":[11],"type":["fct"],"align":["left"]},{"label":["HHIncomeMid"],"name":[12],"type":["int"],"align":["right"]},{"label":["Poverty"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["HomeRooms"],"name":[14],"type":["int"],"align":["right"]},{"label":["HomeOwn"],"name":[15],"type":["fct"],"align":["left"]},{"label":["Work"],"name":[16],"type":["fct"],"align":["left"]},{"label":["Weight"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["Length"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["HeadCirc"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["Height"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["BMI"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["BMICatUnder20yrs"],"name":[22],"type":["fct"],"align":["left"]},{"label":["BMI_WHO"],"name":[23],"type":["fct"],"align":["left"]},{"label":["Pulse"],"name":[24],"type":["int"],"align":["right"]},{"label":["BPSysAve"],"name":[25],"type":["int"],"align":["right"]},{"label":["BPDiaAve"],"name":[26],"type":["int"],"align":["right"]},{"label":["BPSys1"],"name":[27],"type":["int"],"align":["right"]},{"label":["BPDia1"],"name":[28],"type":["int"],"align":["right"]},{"label":["BPSys2"],"name":[29],"type":["int"],"align":["right"]},{"label":["BPDia2"],"name":[30],"type":["int"],"align":["right"]},{"label":["BPSys3"],"name":[31],"type":["int"],"align":["right"]},{"label":["BPDia3"],"name":[32],"type":["int"],"align":["right"]},{"label":["Testosterone"],"name":[33],"type":["dbl"],"align":["right"]},{"label":["DirectChol"],"name":[34],"type":["dbl"],"align":["right"]},{"label":["TotChol"],"name":[35],"type":["dbl"],"align":["right"]},{"label":["UrineVol1"],"name":[36],"type":["int"],"align":["right"]},{"label":["UrineFlow1"],"name":[37],"type":["dbl"],"align":["right"]},{"label":["UrineVol2"],"name":[38],"type":["int"],"align":["right"]},{"label":["UrineFlow2"],"name":[39],"type":["dbl"],"align":["right"]},{"label":["Diabetes"],"name":[40],"type":["fct"],"align":["left"]},{"label":["DiabetesAge"],"name":[41],"type":["int"],"align":["right"]},{"label":["HealthGen"],"name":[42],"type":["fct"],"align":["left"]},{"label":["DaysPhysHlthBad"],"name":[43],"type":["int"],"align":["right"]},{"label":["DaysMentHlthBad"],"name":[44],"type":["int"],"align":["right"]},{"label":["LittleInterest"],"name":[45],"type":["fct"],"align":["left"]},{"label":["Depressed"],"name":[46],"type":["fct"],"align":["left"]},{"label":["nPregnancies"],"name":[47],"type":["int"],"align":["right"]},{"label":["nBabies"],"name":[48],"type":["int"],"align":["right"]},{"label":["Age1stBaby"],"name":[49],"type":["int"],"align":["right"]},{"label":["SleepHrsNight"],"name":[50],"type":["int"],"align":["right"]},{"label":["SleepTrouble"],"name":[51],"type":["fct"],"align":["left"]},{"label":["PhysActive"],"name":[52],"type":["fct"],"align":["left"]},{"label":["PhysActiveDays"],"name":[53],"type":["int"],"align":["right"]},{"label":["TVHrsDay"],"name":[54],"type":["fct"],"align":["left"]},{"label":["CompHrsDay"],"name":[55],"type":["fct"],"align":["left"]},{"label":["TVHrsDayChild"],"name":[56],"type":["int"],"align":["right"]},{"label":["CompHrsDayChild"],"name":[57],"type":["int"],"align":["right"]},{"label":["Alcohol12PlusYr"],"name":[58],"type":["fct"],"align":["left"]},{"label":["AlcoholDay"],"name":[59],"type":["int"],"align":["right"]},{"label":["AlcoholYear"],"name":[60],"type":["int"],"align":["right"]},{"label":["SmokeNow"],"name":[61],"type":["fct"],"align":["left"]},{"label":["Smoke100"],"name":[62],"type":["fct"],"align":["left"]},{"label":["Smoke100n"],"name":[63],"type":["fct"],"align":["left"]},{"label":["SmokeAge"],"name":[64],"type":["int"],"align":["right"]},{"label":["Marijuana"],"name":[65],"type":["fct"],"align":["left"]},{"label":["AgeFirstMarij"],"name":[66],"type":["int"],"align":["right"]},{"label":["RegularMarij"],"name":[67],"type":["fct"],"align":["left"]},{"label":["AgeRegMarij"],"name":[68],"type":["int"],"align":["right"]},{"label":["HardDrugs"],"name":[69],"type":["fct"],"align":["left"]},{"label":["SexEver"],"name":[70],"type":["fct"],"align":["left"]},{"label":["SexAge"],"name":[71],"type":["int"],"align":["right"]},{"label":["SexNumPartnLife"],"name":[72],"type":["int"],"align":["right"]},{"label":["SexNumPartYear"],"name":[73],"type":["int"],"align":["right"]},{"label":["SameSex"],"name":[74],"type":["fct"],"align":["left"]},{"label":["SexOrientation"],"name":[75],"type":["fct"],"align":["left"]},{"label":["PregnantNow"],"name":[76],"type":["fct"],"align":["left"]}],"data":[{"1":"51624","2":"2009_10","3":"male","4":"34","5":"30-39","6":"409","7":"White","8":"NA","9":"High School","10":"Married","11":"25000-34999","12":"30000","13":"1.36","14":"6","15":"Own","16":"NotWorking","17":"87.4","18":"NA","19":"NA","20":"164.7","21":"32.22","22":"NA","23":"30.0_plus","24":"70","25":"113","26":"85","27":"114","28":"88","29":"114","30":"88","31":"112","32":"82","33":"NA","34":"1.29","35":"3.49","36":"352","37":"NA","38":"NA","39":"NA","40":"No","41":"NA","42":"Good","43":"0","44":"15","45":"Most","46":"Several","47":"NA","48":"NA","49":"NA","50":"4","51":"Yes","52":"No","53":"NA","54":"NA","55":"NA","56":"NA","57":"NA","58":"Yes","59":"NA","60":"0","61":"No","62":"Yes","63":"Smoker","64":"18","65":"Yes","66":"17","67":"No","68":"NA","69":"Yes","70":"Yes","71":"16","72":"8","73":"1","74":"No","75":"Heterosexual","76":"NA"},{"1":"51624","2":"2009_10","3":"male","4":"34","5":"30-39","6":"409","7":"White","8":"NA","9":"High School","10":"Married","11":"25000-34999","12":"30000","13":"1.36","14":"6","15":"Own","16":"NotWorking","17":"87.4","18":"NA","19":"NA","20":"164.7","21":"32.22","22":"NA","23":"30.0_plus","24":"70","25":"113","26":"85","27":"114","28":"88","29":"114","30":"88","31":"112","32":"82","33":"NA","34":"1.29","35":"3.49","36":"352","37":"NA","38":"NA","39":"NA","40":"No","41":"NA","42":"Good","43":"0","44":"15","45":"Most","46":"Several","47":"NA","48":"NA","49":"NA","50":"4","51":"Yes","52":"No","53":"NA","54":"NA","55":"NA","56":"NA","57":"NA","58":"Yes","59":"NA","60":"0","61":"No","62":"Yes","63":"Smoker","64":"18","65":"Yes","66":"17","67":"No","68":"NA","69":"Yes","70":"Yes","71":"16","72":"8","73":"1","74":"No","75":"Heterosexual","76":"NA"},{"1":"51624","2":"2009_10","3":"male","4":"34","5":"30-39","6":"409","7":"White","8":"NA","9":"High School","10":"Married","11":"25000-34999","12":"30000","13":"1.36","14":"6","15":"Own","16":"NotWorking","17":"87.4","18":"NA","19":"NA","20":"164.7","21":"32.22","22":"NA","23":"30.0_plus","24":"70","25":"113","26":"85","27":"114","28":"88","29":"114","30":"88","31":"112","32":"82","33":"NA","34":"1.29","35":"3.49","36":"352","37":"NA","38":"NA","39":"NA","40":"No","41":"NA","42":"Good","43":"0","44":"15","45":"Most","46":"Several","47":"NA","48":"NA","49":"NA","50":"4","51":"Yes","52":"No","53":"NA","54":"NA","55":"NA","56":"NA","57":"NA","58":"Yes","59":"NA","60":"0","61":"No","62":"Yes","63":"Smoker","64":"18","65":"Yes","66":"17","67":"No","68":"NA","69":"Yes","70":"Yes","71":"16","72":"8","73":"1","74":"No","75":"Heterosexual","76":"NA"},{"1":"51625","2":"2009_10","3":"male","4":"4","5":"0-9","6":"49","7":"Other","8":"NA","9":"NA","10":"NA","11":"20000-24999","12":"22500","13":"1.07","14":"9","15":"Own","16":"NA","17":"17.0","18":"NA","19":"NA","20":"105.4","21":"15.30","22":"NA","23":"12.0_18.5","24":"NA","25":"NA","26":"NA","27":"NA","28":"NA","29":"NA","30":"NA","31":"NA","32":"NA","33":"NA","34":"NA","35":"NA","36":"NA","37":"NA","38":"NA","39":"NA","40":"No","41":"NA","42":"NA","43":"NA","44":"NA","45":"NA","46":"NA","47":"NA","48":"NA","49":"NA","50":"NA","51":"NA","52":"NA","53":"NA","54":"NA","55":"NA","56":"4","57":"1","58":"NA","59":"NA","60":"NA","61":"NA","62":"NA","63":"NA","64":"NA","65":"NA","66":"NA","67":"NA","68":"NA","69":"NA","70":"NA","71":"NA","72":"NA","73":"NA","74":"NA","75":"NA","76":"NA"},{"1":"51630","2":"2009_10","3":"female","4":"49","5":"40-49","6":"596","7":"White","8":"NA","9":"Some College","10":"LivePartner","11":"35000-44999","12":"40000","13":"1.91","14":"5","15":"Rent","16":"NotWorking","17":"86.7","18":"NA","19":"NA","20":"168.4","21":"30.57","22":"NA","23":"30.0_plus","24":"86","25":"112","26":"75","27":"118","28":"82","29":"108","30":"74","31":"116","32":"76","33":"NA","34":"1.16","35":"6.70","36":"77","37":"0.094","38":"NA","39":"NA","40":"No","41":"NA","42":"Good","43":"0","44":"10","45":"Several","46":"Several","47":"2","48":"2","49":"27","50":"8","51":"Yes","52":"No","53":"NA","54":"NA","55":"NA","56":"NA","57":"NA","58":"Yes","59":"2","60":"20","61":"Yes","62":"Yes","63":"Smoker","64":"38","65":"Yes","66":"18","67":"No","68":"NA","69":"Yes","70":"Yes","71":"12","72":"10","73":"1","74":"Yes","75":"Heterosexual","76":"NA"},{"1":"51638","2":"2009_10","3":"male","4":"9","5":"0-9","6":"115","7":"White","8":"NA","9":"NA","10":"NA","11":"75000-99999","12":"87500","13":"1.84","14":"6","15":"Rent","16":"NA","17":"29.8","18":"NA","19":"NA","20":"133.1","21":"16.82","22":"NA","23":"12.0_18.5","24":"82","25":"86","26":"47","27":"84","28":"50","29":"84","30":"50","31":"88","32":"44","33":"NA","34":"1.34","35":"4.86","36":"123","37":"1.538","38":"NA","39":"NA","40":"No","41":"NA","42":"NA","43":"NA","44":"NA","45":"NA","46":"NA","47":"NA","48":"NA","49":"NA","50":"NA","51":"NA","52":"NA","53":"NA","54":"NA","55":"NA","56":"5","57":"0","58":"NA","59":"NA","60":"NA","61":"NA","62":"NA","63":"NA","64":"NA","65":"NA","66":"NA","67":"NA","68":"NA","69":"NA","70":"NA","71":"NA","72":"NA","73":"NA","74":"NA","75":"NA","76":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(NHANES)</span></code></pre></div>
<pre><code>Rows: 10,000
Columns: 76
$ ID               &lt;int&gt; 51624, 51624, 51624, 51625, 51630, 51638, 51646, 5164…
$ SurveyYr         &lt;fct&gt; 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10,…
$ Gender           &lt;fct&gt; male, male, male, male, female, male, male, female, f…
$ Age              &lt;int&gt; 34, 34, 34, 4, 49, 9, 8, 45, 45, 45, 66, 58, 54, 10, …
$ AgeDecade        &lt;fct&gt;  30-39,  30-39,  30-39,  0-9,  40-49,  0-9,  0-9,  40…
$ AgeMonths        &lt;int&gt; 409, 409, 409, 49, 596, 115, 101, 541, 541, 541, 795,…
$ Race1            &lt;fct&gt; White, White, White, Other, White, White, White, Whit…
$ Race3            &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Education        &lt;fct&gt; High School, High School, High School, NA, Some Colle…
$ MaritalStatus    &lt;fct&gt; Married, Married, Married, NA, LivePartner, NA, NA, M…
$ HHIncome         &lt;fct&gt; 25000-34999, 25000-34999, 25000-34999, 20000-24999, 3…
$ HHIncomeMid      &lt;int&gt; 30000, 30000, 30000, 22500, 40000, 87500, 60000, 8750…
$ Poverty          &lt;dbl&gt; 1.36, 1.36, 1.36, 1.07, 1.91, 1.84, 2.33, 5.00, 5.00,…
$ HomeRooms        &lt;int&gt; 6, 6, 6, 9, 5, 6, 7, 6, 6, 6, 5, 10, 6, 10, 10, 4, 3,…
$ HomeOwn          &lt;fct&gt; Own, Own, Own, Own, Rent, Rent, Own, Own, Own, Own, O…
$ Work             &lt;fct&gt; NotWorking, NotWorking, NotWorking, NA, NotWorking, N…
$ Weight           &lt;dbl&gt; 87.4, 87.4, 87.4, 17.0, 86.7, 29.8, 35.2, 75.7, 75.7,…
$ Length           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ HeadCirc         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Height           &lt;dbl&gt; 164.7, 164.7, 164.7, 105.4, 168.4, 133.1, 130.6, 166.…
$ BMI              &lt;dbl&gt; 32.22, 32.22, 32.22, 15.30, 30.57, 16.82, 20.64, 27.2…
$ BMICatUnder20yrs &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ BMI_WHO          &lt;fct&gt; 30.0_plus, 30.0_plus, 30.0_plus, 12.0_18.5, 30.0_plus…
$ Pulse            &lt;int&gt; 70, 70, 70, NA, 86, 82, 72, 62, 62, 62, 60, 62, 76, 8…
$ BPSysAve         &lt;int&gt; 113, 113, 113, NA, 112, 86, 107, 118, 118, 118, 111, …
$ BPDiaAve         &lt;int&gt; 85, 85, 85, NA, 75, 47, 37, 64, 64, 64, 63, 74, 85, 6…
$ BPSys1           &lt;int&gt; 114, 114, 114, NA, 118, 84, 114, 106, 106, 106, 124, …
$ BPDia1           &lt;int&gt; 88, 88, 88, NA, 82, 50, 46, 62, 62, 62, 64, 76, 86, 6…
$ BPSys2           &lt;int&gt; 114, 114, 114, NA, 108, 84, 108, 118, 118, 118, 108, …
$ BPDia2           &lt;int&gt; 88, 88, 88, NA, 74, 50, 36, 68, 68, 68, 62, 72, 88, 6…
$ BPSys3           &lt;int&gt; 112, 112, 112, NA, 116, 88, 106, 118, 118, 118, 114, …
$ BPDia3           &lt;int&gt; 82, 82, 82, NA, 76, 44, 38, 60, 60, 60, 64, 76, 82, 7…
$ Testosterone     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ DirectChol       &lt;dbl&gt; 1.29, 1.29, 1.29, NA, 1.16, 1.34, 1.55, 2.12, 2.12, 2…
$ TotChol          &lt;dbl&gt; 3.49, 3.49, 3.49, NA, 6.70, 4.86, 4.09, 5.82, 5.82, 5…
$ UrineVol1        &lt;int&gt; 352, 352, 352, NA, 77, 123, 238, 106, 106, 106, 113, …
$ UrineFlow1       &lt;dbl&gt; NA, NA, NA, NA, 0.094, 1.538, 1.322, 1.116, 1.116, 1.…
$ UrineVol2        &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ UrineFlow2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Diabetes         &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No, No, N…
$ DiabetesAge      &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ HealthGen        &lt;fct&gt; Good, Good, Good, NA, Good, NA, NA, Vgood, Vgood, Vgo…
$ DaysPhysHlthBad  &lt;int&gt; 0, 0, 0, NA, 0, NA, NA, 0, 0, 0, 10, 0, 4, NA, NA, 0,…
$ DaysMentHlthBad  &lt;int&gt; 15, 15, 15, NA, 10, NA, NA, 3, 3, 3, 0, 0, 0, NA, NA,…
$ LittleInterest   &lt;fct&gt; Most, Most, Most, NA, Several, NA, NA, None, None, No…
$ Depressed        &lt;fct&gt; Several, Several, Several, NA, Several, NA, NA, None,…
$ nPregnancies     &lt;int&gt; NA, NA, NA, NA, 2, NA, NA, 1, 1, 1, NA, NA, NA, NA, N…
$ nBabies          &lt;int&gt; NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ Age1stBaby       &lt;int&gt; NA, NA, NA, NA, 27, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ SleepHrsNight    &lt;int&gt; 4, 4, 4, NA, 8, NA, NA, 8, 8, 8, 7, 5, 4, NA, 5, 7, N…
$ SleepTrouble     &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, No, No, Y…
$ PhysActive       &lt;fct&gt; No, No, No, NA, No, NA, NA, Yes, Yes, Yes, Yes, Yes, …
$ PhysActiveDays   &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, 5, 5, 5, 7, 5, 1, NA, 2, …
$ TVHrsDay         &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ CompHrsDay       &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ TVHrsDayChild    &lt;int&gt; NA, NA, NA, 4, NA, 5, 1, NA, NA, NA, NA, NA, NA, 4, N…
$ CompHrsDayChild  &lt;int&gt; NA, NA, NA, 1, NA, 0, 6, NA, NA, NA, NA, NA, NA, 3, N…
$ Alcohol12PlusYr  &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, Yes, Y…
$ AlcoholDay       &lt;int&gt; NA, NA, NA, NA, 2, NA, NA, 3, 3, 3, 1, 2, 6, NA, NA, …
$ AlcoholYear      &lt;int&gt; 0, 0, 0, NA, 20, NA, NA, 52, 52, 52, 100, 104, 364, N…
$ SmokeNow         &lt;fct&gt; No, No, No, NA, Yes, NA, NA, NA, NA, NA, No, NA, NA, …
$ Smoke100         &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, Yes, No, …
$ Smoke100n        &lt;fct&gt; Smoker, Smoker, Smoker, NA, Smoker, NA, NA, Non-Smoke…
$ SmokeAge         &lt;int&gt; 18, 18, 18, NA, 38, NA, NA, NA, NA, NA, 13, NA, NA, N…
$ Marijuana        &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, NA, Ye…
$ AgeFirstMarij    &lt;int&gt; 17, 17, 17, NA, 18, NA, NA, 13, 13, 13, NA, 19, 15, N…
$ RegularMarij     &lt;fct&gt; No, No, No, NA, No, NA, NA, No, No, No, NA, Yes, Yes,…
$ AgeRegMarij      &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20, 15, N…
$ HardDrugs        &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, No, Yes, …
$ SexEver          &lt;fct&gt; Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, Yes, Y…
$ SexAge           &lt;int&gt; 16, 16, 16, NA, 12, NA, NA, 13, 13, 13, 17, 22, 12, N…
$ SexNumPartnLife  &lt;int&gt; 8, 8, 8, NA, 10, NA, NA, 20, 20, 20, 15, 7, 100, NA, …
$ SexNumPartYear   &lt;int&gt; 1, 1, 1, NA, 1, NA, NA, 0, 0, 0, NA, 1, 1, NA, NA, 1,…
$ SameSex          &lt;fct&gt; No, No, No, NA, Yes, NA, NA, Yes, Yes, Yes, No, No, N…
$ SexOrientation   &lt;fct&gt; Heterosexual, Heterosexual, Heterosexual, NA, Heteros…
$ PregnantNow      &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</code></pre>
<hr />
<div id="data-exploration" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Data exploration</h2>
<p>Suppose that we are interested in assessing the difference in direct cholesterol levels between males and females older than 25 years.</p>
<ol style="list-style-type: decimal">
<li>We pipe the dataset to the function <code>filter</code> to filter the data according to age.</li>
<li>We plot the direct cholesterol levels.
<ul>
<li>We select the data with the command <code>ggplot(aes(x=DirectChol))</code></li>
<li>We add a histogram with the command <code>geom_histogram()</code></li>
<li>We make to vertical panels using the command <code>facet_grid(Gender~.)</code></li>
<li>We customize the label of the x-axis with the <code>xlab</code> command.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>NHANES<span class="sc">%&gt;%</span><span class="fu">filter</span>(Age<span class="sc">&gt;</span><span class="dv">25</span>)<span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>DirectChol))<span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Direct cholesterol (mg/dl)&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<hr />
<ul>
<li>Cholesterol levels and concentration measurements are often skewed.</li>
<li>Concentrations cannot be lower than 0.</li>
<li>They are often log transformed.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>NHANES<span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age<span class="sc">&gt;</span><span class="dv">25</span>)<span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>DirectChol<span class="sc">%&gt;%</span>log2))<span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Direct cholesterol (log2)&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>We see that the data are more or less bell shaped upon log transformation.</p>
<hr />
<p>We will now create a subset of the data that we will use to sample from in the next sections.</p>
<ol style="list-style-type: decimal">
<li>We filter on age and remove subjects with missing values (NA).</li>
<li>We only select the variables Gender and DirectChol from the dataset to avoid unnecessary variables.</li>
<li>With the mutate function we can add a new variable logChol with log transformed direct cholesterol levels.</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>nhanesSub<span class="ot">&lt;-</span> NHANES<span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age<span class="sc">&gt;</span><span class="dv">25</span><span class="sc">&amp;!</span><span class="fu">is.na</span>(DirectChol)) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;Gender&quot;</span>,<span class="st">&quot;DirectChol&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cholLog=</span><span class="fu">log2</span>(DirectChol))</span></code></pre></div>
<hr />
<p>We will calculate the summary statistics for the cholLog variable for males and females in the large dataset. So we group by Gender</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>cholLogSum<span class="ot">&lt;-</span> nhanesSub <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize_at</span>(<span class="st">&quot;cholLog&quot;</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">list</span>(<span class="at">mean=</span><span class="sc">~</span><span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sd=</span><span class="sc">~</span><span class="fu">sd</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n=</span><span class="cf">function</span>(x) x<span class="sc">%&gt;%</span>is.na<span class="sc">%&gt;%</span><span class="st">`</span><span class="at">!</span><span class="st">`</span><span class="sc">%&gt;%</span>sum)) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>cholLogSum</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["fct"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["se"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"0.5528939","3":"0.4077823","4":"3099","5":"0.007325168"},{"1":"male","2":"0.2376956","3":"0.3995952","4":"3025","5":"0.007265368"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<hr />
</div>
<div id="experiment" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Experiment</h2>
<ul>
<li>Suppose that we have no access to cholesterol levels of the American population,</li>
<li>we will have to setup an experiment.</li>
<li>Suppose we have a budget for assessing 10 females and 10 males,</li>
<li>we will subset 10 females and 10 males at random from the American population and measure their direct cholesterol levels.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fem<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;female&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>mal<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;male&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>samp<span class="ot">&lt;-</span><span class="fu">rbind</span>(fem,mal)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>samp</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["fct"],"align":["left"]},{"label":["DirectChol"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["cholLog"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"1.03","3":"0.04264434"},{"1":"female","2":"1.37","3":"0.45417589"},{"1":"female","2":"1.42","3":"0.50589093"},{"1":"female","2":"1.19","3":"0.25096157"},{"1":"female","2":"1.58","3":"0.65992456"},{"1":"female","2":"1.71","3":"0.77399633"},{"1":"female","2":"0.67","3":"-0.57776700"},{"1":"female","2":"1.11","3":"0.15055968"},{"1":"female","2":"1.55","3":"0.63226822"},{"1":"female","2":"1.50","3":"0.58496250"},{"1":"male","2":"1.34","3":"0.42223300"},{"1":"male","2":"1.11","3":"0.15055968"},{"1":"male","2":"0.80","3":"-0.32192809"},{"1":"male","2":"0.75","3":"-0.41503750"},{"1":"male","2":"1.01","3":"0.01435529"},{"1":"male","2":"1.55","3":"0.63226822"},{"1":"male","2":"0.93","3":"-0.10469738"},{"1":"male","2":"1.24","3":"0.31034012"},{"1":"male","2":"1.01","3":"0.01435529"},{"1":"male","2":"0.72","3":"-0.47393119"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<hr />
<p>We will now plot the data with a histogram and boxplots</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>samp <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>cholLog))<span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Direct cholesterol (log2)&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>samp<span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gender,<span class="at">y=</span>cholLog)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-18-2.png" width="672" /></p>
<hr />
<p>We summarize the data</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>samp <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize_at</span>(<span class="st">&quot;cholLog&quot;</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">list</span>(<span class="at">mean=</span><span class="sc">~</span><span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sd=</span><span class="sc">~</span><span class="fu">sd</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n=</span><span class="cf">function</span>(x) x<span class="sc">%&gt;%</span>is.na<span class="sc">%&gt;%</span><span class="st">`</span><span class="at">!</span><span class="st">`</span><span class="sc">%&gt;%</span>sum)) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["fct"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["se"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"0.34776170","3":"0.4014719","4":"10","5":"0.1269566"},{"1":"male","2":"0.02285174","3":"0.3657077","4":"10","5":"0.1156469"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Note that the sample mean is different from that of the large experiment (“population”) we sampled from.</p>
<p>We test for the difference between Males and females</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(cholLog<span class="sc">~</span>Gender,samp,<span class="at">var.equal=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>
    Two Sample t-test

data:  cholLog by Gender
t = 1.8919, df = 18, p-value = 0.0747
alternative hypothesis: true difference in means between group female and group male is not equal to 0
95 percent confidence interval:
 -0.03588746  0.68570738
sample estimates:
mean in group female   mean in group male 
          0.34776170           0.02285174 </code></pre>
<hr />
</div>
<div id="repeat-the-experiment" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Repeat the experiment</h2>
<p>If we do the experiment again we select other people and we obtain different results.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fem<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;female&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>mal<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;male&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>samp2<span class="ot">&lt;-</span><span class="fu">rbind</span>(fem,mal)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>samp2<span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>DirectChol<span class="sc">%&gt;%</span>log))<span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Direct cholesterol (log)&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>samp2<span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gender,<span class="at">y=</span>cholLog)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>samp2 <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize_at</span>(<span class="st">&quot;cholLog&quot;</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">list</span>(<span class="at">mean=</span><span class="sc">~</span><span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sd=</span><span class="sc">~</span><span class="fu">sd</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n=</span><span class="cf">function</span>(x) x<span class="sc">%&gt;%</span>is.na<span class="sc">%&gt;%</span><span class="st">`</span><span class="at">!</span><span class="st">`</span><span class="sc">%&gt;%</span>sum)) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["fct"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["se"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"0.6420087","3":"0.5078734","4":"10","5":"0.1606037"},{"1":"male","2":"0.2598341","3":"0.4666548","4":"10","5":"0.1475692"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(cholLog<span class="sc">~</span>Gender,samp2,<span class="at">var.equal=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>
    Two Sample t-test

data:  cholLog by Gender
t = 1.7522, df = 18, p-value = 0.09675
alternative hypothesis: true difference in means between group female and group male is not equal to 0
95 percent confidence interval:
 -0.07604904  0.84039821
sample estimates:
mean in group female   mean in group male 
           0.6420087            0.2598341 </code></pre>
<hr />
</div>
<div id="and-again" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> And again</h2>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12857</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fem<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;female&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>mal<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;male&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">sample_n</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>samp3<span class="ot">&lt;-</span><span class="fu">rbind</span>(fem,mal)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>samp3<span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>DirectChol<span class="sc">%&gt;%</span>log))<span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Direct cholesterol (log)&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>samp3<span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gender,<span class="at">y=</span>cholLog)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-22-2.png" width="672" /></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>samp3 <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize_at</span>(<span class="st">&quot;cholLog&quot;</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">list</span>(<span class="at">mean=</span><span class="sc">~</span><span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sd=</span><span class="sc">~</span><span class="fu">sd</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n=</span><span class="cf">function</span>(x) x<span class="sc">%&gt;%</span>is.na<span class="sc">%&gt;%</span><span class="st">`</span><span class="at">!</span><span class="st">`</span><span class="sc">%&gt;%</span>sum)) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["fct"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["se"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"0.2585913","3":"0.3280615","4":"10","5":"0.1037422"},{"1":"male","2":"0.6377572","3":"0.3645432","4":"10","5":"0.1152787"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(cholLog<span class="sc">~</span>Gender,samp3,<span class="at">var.equal=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>
    Two Sample t-test

data:  cholLog by Gender
t = -2.4449, df = 18, p-value = 0.02501
alternative hypothesis: true difference in means between group female and group male is not equal to 0
95 percent confidence interval:
 -0.7049891 -0.0533427
sample estimates:
mean in group female   mean in group male 
           0.2585913            0.6377572 </code></pre>
<hr />
</div>
<div id="summary" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Summary</h2>
<ul>
<li><p>Because we sampled other subjects in each sample, we obtain different cholesterol levels.</p></li>
<li><p>However, not only the cholesterol levels differ from sample to sample but also the summary statistics: means, standard deviations and standard errors.</p></li>
<li><p>Note, that in the last sample the log cholesterol levels are on average lower for females than for males; based on this sample we even would wrongly conclude that the cholesterol levels for females are on average larger than those of males.</p></li>
<li><p>This implies that our conclusions are also subjected to uncertainty and might change from sample to sample.</p></li>
<li><p>Samples as the one where the effect swaps and is statistically significant, however, are very rare.</p></li>
<li><p>This is illustrated with the code below, where we will draw 20000 repeated samples with sample size 10 for females and males from the NHanes study.</p></li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>nsim<span class="ot">&lt;-</span><span class="dv">20000</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>nSamp<span class="ot">&lt;-</span><span class="dv">10</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span><span class="fu">matrix</span>(<span class="dv">0</span>,<span class="at">nrow=</span>nsim,<span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>fem<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>mal<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;male&quot;</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a> femSamp<span class="ot">&lt;-</span><span class="fu">sample</span>(fem<span class="sc">$</span>cholLog,nSamp)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a> malSamp<span class="ot">&lt;-</span><span class="fu">sample</span>(mal<span class="sc">$</span>cholLog,nSamp)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>meanFem<span class="ot">&lt;-</span><span class="fu">mean</span>(femSamp)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a> meanMal<span class="ot">&lt;-</span><span class="fu">mean</span>(malSamp)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a> delta<span class="ot">&lt;-</span>meanFem<span class="sc">-</span>meanMal</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a> sdFem<span class="ot">&lt;-</span><span class="fu">sd</span>(femSamp)</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a> sdMal<span class="ot">&lt;-</span><span class="fu">sd</span>(malSamp)</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a> seFem<span class="ot">&lt;-</span>sdFem<span class="sc">/</span><span class="fu">sqrt</span>(nSamp)</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a> seFem<span class="ot">&lt;-</span>sdFem<span class="sc">/</span><span class="fu">sqrt</span>(nSamp)</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a> sdPool<span class="ot">&lt;-</span><span class="fu">sqrt</span>((sdFem<span class="sc">^</span><span class="dv">2</span><span class="sc">*</span>(nSamp<span class="dv">-1</span>) <span class="sc">+</span> sdMal<span class="sc">^</span><span class="dv">2</span><span class="sc">*</span>(nSamp<span class="dv">-1</span>))<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>nSamp<span class="dv">-2</span>))</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>tvalue<span class="ot">&lt;-</span>(delta)<span class="sc">/</span>(sdPool<span class="sc">*</span><span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">/</span>nSamp<span class="sc">+</span><span class="dv">1</span><span class="sc">/</span>nSamp))</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>pvalue<span class="ot">&lt;-</span><span class="fu">pt</span>(<span class="fu">abs</span>(tvalue),<span class="at">lower.tail =</span> <span class="cn">FALSE</span>,<span class="at">df=</span><span class="dv">2</span><span class="sc">*</span>nSamp<span class="dv">-2</span>)<span class="sc">*</span><span class="dv">2</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a> res[i,]<span class="ot">&lt;-</span><span class="fu">c</span>(delta,pvalue)</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&lt;</span><span class="fl">0.05</span><span class="sc">&amp;</span>res[,<span class="dv">1</span>]<span class="sc">&gt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>[1] 7785</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&gt;</span><span class="fl">0.05</span>)</span></code></pre></div>
<pre><code>[1] 12212</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&lt;</span><span class="fl">0.05</span><span class="sc">&amp;</span>res[,<span class="dv">1</span>]<span class="sc">&lt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>[1] 3</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span>res <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(res) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;delta&quot;</span>,<span class="st">&quot;pvalue&quot;</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>res <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>delta,<span class="at">y=</span><span class="sc">-</span><span class="fu">log10</span>(pvalue),<span class="at">color=</span>pvalue<span class="sc">&lt;</span><span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Average cholesterol difference&quot;</span>) <span class="sc">+</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;- log10(pvalue)&quot;</span>) <span class="sc">+</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;black&quot;</span>,<span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>res <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>delta)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="fu">c</span>(<span class="fu">mean</span>(fem<span class="sc">$</span>cholLog)<span class="sc">-</span><span class="fu">mean</span>(mal<span class="sc">$</span>cholLog)),<span class="at">color=</span><span class="st">&quot;pop. diff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-23-2.png" width="672" /></p>
<p>Only in 3 out of 20000 samples we conclude that the mean cholesterol level of males is significantly lower than for females. For the remaining samples the cholesterol levels for males were on average significantly lower than for females (7785 samples) or the average difference in cholesterol levels were not statistically significant (12212 samples). The latter is because the power is rather low to detect the difference with 10 samples in each group.</p>
<hr />
</div>
<div id="assignment" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Assignment</h2>
<ol style="list-style-type: decimal">
<li>Copy the code chunk with the simulation study</li>
<li>Add it here below</li>
<li>Modify the sample size to 50.</li>
<li>What do you observe?</li>
</ol>
<hr />
</div>
<div id="control-of-false-positives" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Control of false positives</h2>
<p>Wat happens when there is no difference between both groups?</p>
<ul>
<li><p>We will have to simulate experiments for which the cholestorol levels are the same for both groups.</p></li>
<li><p>We can do this by sampling data for both groups from the subset of women in the study.</p></li>
<li><p>We do this again for 10 subjects per group</p></li>
</ul>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>nsim<span class="ot">&lt;-</span><span class="dv">20000</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>nSamp<span class="ot">&lt;-</span><span class="dv">10</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span><span class="fu">matrix</span>(<span class="dv">0</span>,<span class="at">nrow=</span>nsim,<span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>fem<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>mal<span class="ot">&lt;-</span>nhanesSub<span class="sc">%&gt;%</span><span class="fu">filter</span>(Gender<span class="sc">==</span><span class="st">&quot;male&quot;</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a> femSamp<span class="ot">&lt;-</span><span class="fu">sample</span>(fem<span class="sc">$</span>cholLog,nSamp)</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a> fem2Samp<span class="ot">&lt;-</span><span class="fu">sample</span>(fem<span class="sc">$</span>cholLog,nSamp)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>meanFem<span class="ot">&lt;-</span><span class="fu">mean</span>(femSamp)</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a> meanFem2<span class="ot">&lt;-</span><span class="fu">mean</span>(fem2Samp)</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a> delta<span class="ot">&lt;-</span>meanFem<span class="sc">-</span>meanFem2</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a> sdFem<span class="ot">&lt;-</span><span class="fu">sd</span>(femSamp)</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a> sdFem2<span class="ot">&lt;-</span><span class="fu">sd</span>(fem2Samp)</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a> seFem<span class="ot">&lt;-</span>sdFem<span class="sc">/</span><span class="fu">sqrt</span>(nSamp)</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a> seFem<span class="ot">&lt;-</span>sdFem2<span class="sc">/</span><span class="fu">sqrt</span>(nSamp)</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a> sdPool<span class="ot">&lt;-</span><span class="fu">sqrt</span>((sdFem<span class="sc">^</span><span class="dv">2</span><span class="sc">*</span>(nSamp<span class="dv">-1</span>) <span class="sc">+</span> sdFem2<span class="sc">^</span><span class="dv">2</span><span class="sc">*</span>(nSamp<span class="dv">-1</span>))<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>nSamp<span class="dv">-2</span>))</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>tvalue<span class="ot">&lt;-</span>(delta)<span class="sc">/</span>(sdPool<span class="sc">*</span><span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">/</span>nSamp<span class="sc">+</span><span class="dv">1</span><span class="sc">/</span>nSamp))</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>pvalue<span class="ot">&lt;-</span><span class="fu">pt</span>(<span class="fu">abs</span>(tvalue),<span class="at">lower.tail =</span> <span class="cn">FALSE</span>,<span class="at">df=</span><span class="dv">2</span><span class="sc">*</span>nSamp<span class="dv">-2</span>)<span class="sc">*</span><span class="dv">2</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a> res[i,]<span class="ot">&lt;-</span><span class="fu">c</span>(delta,pvalue)</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&lt;</span><span class="fl">0.05</span><span class="sc">&amp;</span>res[,<span class="dv">1</span>]<span class="sc">&gt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>[1] 480</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&gt;=</span><span class="fl">0.05</span>)</span></code></pre></div>
<pre><code>[1] 18960</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res[,<span class="dv">2</span>]<span class="sc">&lt;</span><span class="fl">0.05</span><span class="sc">&amp;</span>res[,<span class="dv">1</span>]<span class="sc">&lt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>[1] 560</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span>res <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(res) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;delta&quot;</span>,<span class="st">&quot;pvalue&quot;</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>res <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>delta,<span class="at">y=</span><span class="sc">-</span><span class="fu">log10</span>(pvalue),<span class="at">color=</span>pvalue<span class="sc">&lt;</span><span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Average cholesterol difference&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;- log10(pvalue)&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;black&quot;</span>,<span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>res <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>delta)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">&quot;pop. diff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="01-intro_files/figure-html/unnamed-chunk-24-2.png" width="672" /></p>
<p>Note, that the number of false positives are on 1040 on 20000 experiments and are nicely controlled at the 5% level.</p>
<p>What happens if we increase the sample size to 50 subjects per group?</p>
<hr />
</div>
</div>
<div id="salk-study" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Salk Study</h1>
<ul>
<li>In 1916, the US experienced the first large epidemic of polio.</li>
<li>John Salk developed a vaccine with promising results in the lab in the early fifties.</li>
<li>In 1954, the National Foundation for Infantile Paralysis (NFIP) has setup a large study to assess the effectiveness of the Salk vaccine.</li>
<li>Suppose that the NFIP would have vaccinated a large number of children in 1954 and would have observed that the polio incidence in 1954 was lower than in 1953. Could they have concluded that the vaccine was effective?</li>
</ul>
<hr />
<div id="nfip-study" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> NFIP Study</h2>
<div id="design" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Design</h3>
<ul>
<li>Large simultaneous study with cases, vaccinated children, and controls, non-vaccinated children.</li>
<li>All schools in districts with high polio incidence</li>
<li>Cases: children with consent for vaccination from second grade of primary school.</li>
<li>Controls: children from first and third grade.</li>
</ul>
</div>
<div id="data" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Data</h3>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>nfip<span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">group=</span><span class="fu">c</span>(<span class="st">&quot;cases&quot;</span>,<span class="st">&quot;control&quot;</span>,<span class="st">&quot;noConcent&quot;</span>),<span class="at">grade=</span><span class="fu">c</span>(<span class="st">&quot;g2&quot;</span>,<span class="st">&quot;g1g3&quot;</span>,<span class="st">&quot;g2&quot;</span>),<span class="at">vaccin=</span><span class="fu">c</span>(<span class="st">&quot;yes&quot;</span>,<span class="st">&quot;no&quot;</span>,<span class="st">&quot;no&quot;</span>),<span class="at">total=</span><span class="fu">c</span>(<span class="dv">221998</span>,<span class="dv">725173</span>,<span class="dv">123605</span>),<span class="at">polio=</span><span class="fu">c</span>(<span class="dv">54</span>,<span class="dv">391</span>,<span class="dv">56</span>))</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>nfip<span class="sc">$</span>noPolio<span class="ot">&lt;-</span>nfip<span class="sc">$</span>total<span class="sc">-</span>nfip<span class="sc">$</span>polio</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(nfip)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">group</th>
<th align="left">grade</th>
<th align="left">vaccin</th>
<th align="right">total</th>
<th align="right">polio</th>
<th align="right">noPolio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">cases</td>
<td align="left">g2</td>
<td align="left">yes</td>
<td align="right">221998</td>
<td align="right">54</td>
<td align="right">221944</td>
</tr>
<tr class="even">
<td align="left">control</td>
<td align="left">g1g3</td>
<td align="left">no</td>
<td align="right">725173</td>
<td align="right">391</td>
<td align="right">724782</td>
</tr>
<tr class="odd">
<td align="left">noConcent</td>
<td align="left">g2</td>
<td align="left">no</td>
<td align="right">123605</td>
<td align="right">56</td>
<td align="right">123549</td>
</tr>
</tbody>
</table>
<p>Compare polio incidence?</p>
<p>What can we conclude?</p>
<hr />
</div>
</div>
<div id="confounding" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Confounding</h2>
<p><img src="01-intro_files/figure-html/unnamed-chunk-27-1.png" width="50%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>We observe a lower polio (P) incidence for children for who no consent was given than for the children in the control group.</p></li>
<li><p>Consent for vaccination (V) was associated with the socio-economic status (S).</p></li>
<li><p>Children of lower socio-economic status were more resistant to the disease.</p></li>
<li><p>The groups of cases and controls are not comparable:</p>
<ul>
<li>difference in age,</li>
<li>difference in socio-economic status and</li>
<li>difference in susceptible for disease.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="salk-study-1" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Salk Study</h2>
<div id="design-1" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Design</h3>
<p>A new study was conducted: Randomized double blind study</p>
<ul>
<li>Children are assigned at random to the control or case treatment arm after consent was given by the parents.</li>
<li>Control: vaccination with placebo</li>
<li>Treatment: vaccination with vaccine</li>
<li>double blinding:
<ul>
<li>parents did not know if their child was vaccinated or received the placebo</li>
<li>care-giver/researchers did not know if the child was vaccinated or received placebo</li>
</ul></li>
</ul>
<hr />
</div>
<div id="data-1" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Data</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>salk<span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">group=</span><span class="fu">c</span>(<span class="st">&quot;cases&quot;</span>,<span class="st">&quot;control&quot;</span>,<span class="st">&quot;noConcent&quot;</span>),<span class="at">treatment=</span><span class="fu">c</span>(<span class="st">&quot;vaccine&quot;</span>,<span class="st">&quot;placebo&quot;</span>,<span class="st">&quot;none&quot;</span>),<span class="at">total=</span><span class="fu">c</span>(<span class="dv">200745</span>,</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="dv">201229</span>, <span class="dv">338778</span>),<span class="at">polio=</span><span class="fu">c</span>(<span class="dv">57</span>,<span class="dv">142</span>,<span class="dv">157</span>))</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>salk<span class="sc">$</span>noPolio<span class="ot">&lt;-</span>salk<span class="sc">$</span>total<span class="sc">-</span>salk<span class="sc">$</span>polio</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>salk<span class="sc">$</span>incidencePM<span class="ot">&lt;-</span><span class="fu">round</span>(salk<span class="sc">$</span>polio<span class="sc">/</span>salk<span class="sc">$</span>total<span class="sc">*</span><span class="fl">1e6</span>,<span class="dv">0</span>)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(salk)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">group</th>
<th align="left">treatment</th>
<th align="right">total</th>
<th align="right">polio</th>
<th align="right">noPolio</th>
<th align="right">incidencePM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">cases</td>
<td align="left">vaccine</td>
<td align="right">200745</td>
<td align="right">57</td>
<td align="right">200688</td>
<td align="right">284</td>
</tr>
<tr class="even">
<td align="left">control</td>
<td align="left">placebo</td>
<td align="right">201229</td>
<td align="right">142</td>
<td align="right">201087</td>
<td align="right">706</td>
</tr>
<tr class="odd">
<td align="left">noConcent</td>
<td align="left">none</td>
<td align="right">338778</td>
<td align="right">157</td>
<td align="right">338621</td>
<td align="right">463</td>
</tr>
</tbody>
</table>
<ul>
<li><p>We observe a much larger effect now that the cases and the controls are comparable, incidence of 284 and 706 per million, respectively.</p></li>
<li><p>The polio incidence for children with no consent remains similar, and 463 per million in the NFIP and Salk study, respectively.</p></li>
</ul>
<hr />
</div>
</div>
</div>
<div id="role-of-statistics-in-the-life-sciences" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Role of Statistics in the Life Sciences</h1>
<ul>
<li>We have seen that
<ul>
<li>it is important to carefully specify the scope of the study before the experiment,</li>
<li>the sample size matters,</li>
<li>we should be aware of confounding, and</li>
<li>a proper control is required.</li>
</ul></li>
</ul>
<p><span class="math inline">\(\rightarrow\)</span> Good experimental design is crucial!</p>
<ul>
<li><p>We also observed that there is variability in the population and because we can only sample a small part of the population our results and conclusions are subjected to uncertainty.</p></li>
<li><p>Statistics is the science on</p>
<ol style="list-style-type: decimal">
<li>collecting (experimental design),</li>
<li>exploring (data exploration) and</li>
<li>learning from data and to generalize what we observe in the sample towards the population while quantifying, controlling and reporting variability and uncertainty (statistical modelling and statistical inference).</li>
</ol></li>
<li><p>Therefore, statistics plays an important role in almost all sciences (e.g. column “points of significance” in Nature Methods. <a href="http://blogs.nature.com/methagora/2013/08/giving_statistics_the_attention_it_deserves.html" class="uri">http://blogs.nature.com/methagora/2013/08/giving_statistics_the_attention_it_deserves.html</a>)</p></li>
</ul>
<hr />
<p><img src="01-intro_files/figure-html/pop2Samp2Pop-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiMS4gSW50cm9kdWN0aW9uOiBXaHkgZG8gd2UgbmVlZCBzdGF0aXN0aWNzIgphdXRob3I6ICJMaWV2ZW4gQ2xlbWVudCIKZGF0ZTogInN0YXRPbWljcywgR2hlbnQgVW5pdmVyc2l0eSAoaHR0cHM6Ly9zdGF0b21pY3MuZ2l0aHViLmlvKSIKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGluY2x1ZGUgPSBUUlVFLCBjb21tZW50ID0gTkEsIGVjaG8gPSBUUlVFLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IEZBTFNFLCB3YXJuaW5nID0gRkFMU0UsIGNhY2hlID0gVFJVRSkKbGlicmFyeSh0aWR5dmVyc2UpCmBgYAoKIyBNb3RpdmF0aW9uCjxhIHJlbD0ibGljZW5zZSIgaHJlZj0iaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMCI+PGltZyBhbHQ9IkNyZWF0aXZlIENvbW1vbnMgTGljZW5zZSIgc3R5bGU9ImJvcmRlci13aWR0aDowIiBzcmM9Imh0dHBzOi8vaS5jcmVhdGl2ZWNvbW1vbnMub3JnL2wvYnktbmMtc2EvNC4wLzg4eDMxLnBuZyIgLz48L2E+CgohW10oaHR0cHM6Ly9pbWFnZXMubWFydGVjaGFkdmlzb3IuY29tL2ltYWdlcy91cGxvYWRzL2NvbnRlbnRfaW1hZ2VzL3dheXNfdG9fY2FwdHVyZV9iMmJfY3VzdG9tZXJfZGF0YV81YmFjZDJkYmUxYTA5LnBuZykKCiFbXSguL2ZpZ3VyZXMvd3BHcmFwaC5qcGVnKQoKLSBXZSBsaXZlIGluIGEgYmlnIGRhdGEgZXJhCi0gRGF0YSBvbiBsb2NhdGlvbiwgY2xpY2tzLCBlLWNvbW1lcmNlLCBzb2NpYWwgbWVkaWEgLi4uCi0gTGlmZSBTY2llbmNlczogbWVhc3VyZSBleHByZXNzaW9uIG9mIHRob3VzYW5kcyBvZiBnZW5lcywgcHJvdGVpbnMsIC4uLiBmb3IgZWFjaCBzdWJqZWN0IG9yIGV2ZW4gaW5kaXZpZHVhbCBjZWxscwotIERhdGEgZHJpdmVuIGpvdXJuYWxpc20KLSAuLi4KClN0YXRpc3RpY3MgaXMgdGhlIHNjaWVuY2UgdG8gbGVhcm4gZnJvbSBlbXBpcmljYWwgZGF0YS4KClN0YXRpc3RpY2FsIGxpdGVyYWN5IGlzIGtleSB0byBpbnRlcnByZXQgcmVzdWx0cyBmcm9tIHNjaWVudGlmaWMgcHVibGljYXRpb25zLgoKCgojIyBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgbGllczogbGllcywgZGFtbiBsaWVzIGFuZCBzdGF0aXN0aWNzIHstfQoKLS0tCgojIyBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgbGllczogbGllcywgZGFtbiBsaWVzIGFuZCBiYWQgc3RhdGlzdGljcyB7LX0KCi0tLQoKaHR0cHM6Ly93d3cubWVkcnhpdi5vcmcvY29udGVudC8xMC4xMTAxLzIwMjAuMDcuMTcuMjAxNTU4NDZ2MQoKIVtdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdGF0T21pY3Mvc2JjMjAvcmF3L21hc3Rlci9maWd1cmVzL0ZvbnNlY2EyMDIwQ292aWRWZWdldGFibGVzLnBuZykKCi0tLQoKIVtdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdGF0T21pY3Mvc2JjMjAvcmF3L21hc3Rlci9maWd1cmVzL2NvdmlkVmVnZXRhYmxlczYucG5nKXt3aWR0aD03MCV9CgoKLS0tCgohW10oaHR0cHM6Ly9naXRodWIuY29tL3N0YXRPbWljcy9zYmMyMC9yYXcvbWFzdGVyL2ZpZ3VyZXMvY292aWRWZWdldGFibGVzLnBuZyl7d2lkdGg9NzAlfQoKIlRoZSBhdXRob3JzIHN0YXRlOiBUaGUgbmVnYXRpdmUgZWNvbG9naWNhbCBhc3NvY2lhdGlvbiBiZXR3ZWVuIENPVklELTE5IG1vcnRhbGl0eSBhbmQgdGhlIGNvbnN1bXB0aW9uIG9mIGNhYmJhZ2UgYW5kIGN1Y3VtYmVyIHN1cHBvcnRzIHRoZSBhIHByaW9yaSBoeXBvdGhlc2lzIHByZXZpb3VzbHkgcmVwb3J0ZWQuCkluIHRoaXMgaHlwb3RoZXNpcywgd2UgcHJvcG9zZWQgdGhhdCB2ZWdldGFibGVzIHN1Y2ggYXMgQnJhc3NpY2EgLSB3aXRoIGFuIGFudGlveGlkYW50IGFjdGl2aXR5IHJlZHVjaW5nIGluc3VsaW4gcmVzaXN0YW5jZSAtIG1heSBhbHNvIGJlIGFzc29jaWF0ZWQgd2l0aCBsb3cgQ09WSUQtMTkgbW9ydGFsaXR5IGluIGNvdW50cmllcy4KIgoKIgpUaG91Z2ggb3VyIHJlc3VsdHMgZG8gbm90IGFsbG93IHRvIGluZmVyIGNhdXNhbGl0eSwgdGhleSBkbyByZWluZm9yY2Ugb3VyIGEgcHJpb3J5IGh5cG90aGVzaXMgdGhhdCB0aGUgaW5nZXN0aW9uIG9mIGFudGktb3hpZGFudCBmb29kcyBhY3Rpbmcgb24gaW5zdWxpbiBpbnRvbGVyYW5jZSBtYXkgaGF2ZSByZWR1Y2VkIHRoZSBzZXZlcml0eSBvZiBDT1ZJRC0xOS4KIgoKLS0tCgohW10oaHR0cHM6Ly9naXRodWIuY29tL3N0YXRPbWljcy9zYmMyMC9yYXcvbWFzdGVyL2ZpZ3VyZXMvY292aWRWZWdldGFibGVzNC5wbmcpCgotLS0KCiFbXShodHRwczovL2dpdGh1Yi5jb20vc3RhdE9taWNzL3NiYzIwL3Jhdy9tYXN0ZXIvZmlndXJlcy9jb3ZpZFZlZ2V0YWJsZXMzLnBuZykKCi0gTWFueSBoeXBvdGhlc2VzIGFyZSBhc3Nlc3NlZCA/IQotIENhdXNhbGl0eSA/IQotIEV4cGVyaW1lbnRhbCBkZXNpZ246IE9ic2VydmF0aW9uYWwgc3R1ZHkKLSBCYXNlZCBvbiB0aGUgZGF0YSB3ZSBjYW5ub3QgcHJvdmlkZSByZWNvbW1lbmRhdGlvbnMgYXQgdGhlIHN1YmplY3QgbGV2ZWwKCi0tLQoKIVtdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdGF0T21pY3Mvc2JjMjAvcmF3L21hc3Rlci9maWd1cmVzL2NvdmlkVmVnZXRhYmxlczIucG5nKXt3aWR0aD03MCV9CgotIEltcG9ydGFuY2Ugb2YgRGF0YSBFeHBsb3JhdGlvbiEKLSBEYXRhIGRvZXMgbm90IGV4aGliaXQgdGhlIHRyZW5kCi0gRGF0YSBzaG93cyBldmlkZW5jZSBmb3IgdHdvIGNsdXN0ZXJzOiBhYm92ZSBhbmQgYmVsb3cgMjAwIGRlYXRocy9taWxsaW9uCi0gTW9kZWwgZm9yIGN1Y3VtYmVyIGRvZXMgbm90IG1vZGVsIHRoZSBkYXRhIGNvcnJlY3RseTogT3ZlcmVzdGltYXRpb24gb2YgZGVhdGggcmF0ZSBmb3IgbWFueSBjb3VudHJpZXMgZS5nLiBQb3J0dWdhbCwgSHVuZ2FyeSwgLi4uCgotLS0KCmBgYHtyIGVjaG89RkFMU0Usb3V0LndpZHRoPSIxMCUiLG91dC5leHRyYT0nc3R5bGU9ImZsb2F0OnJpZ2h0OyBwYWRkaW5nOjEwcHgiJ30Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoIi4vZmlndXJlcy9mZWFyLnBuZyIpCmBgYAoKUGFwZXJzIGFyZSBtZXJnZWQsIHB1Ymxpc2hlZCwgYW5kIDM5IHRpbWVzIGNpdGVkCgpCb3VzcXVldCBldCBhbC4gKDIwMjEpLiBDYWJiYWdlIGFuZCBmZXJtZW50ZWQgdmVnZXRhYmxlczogRnJvbSBkZWF0aCByYXRlIGhldGVyb2dlbmVpdHkgaW4gY291bnRyaWVzIHRvIGNhbmRpZGF0ZXMgZm9yIG1pdGlnYXRpb24gc3RyYXRlZ2llcyBvZiBzZXZlcmUgQ09WSUQtMTkuIEFsbGVyZ3kgNzY6NzM14oCTNzUwLgoKLS0tCgpJbiB0aGUgZXhhbXBsZSB3ZSBjb3ZlcmVkIGlzc3VlcyB3aXRoIHRocmVlIGltcG9ydGFudCBicmFuY2hlcyBpbiBzdGF0aXN0aWNzCgoxLiBTdGF0aXN0aWNhbCBpbmZlcmVuY2UKCiAgLSBJcyB0aGVyZSBhbiBhc3NvY2lhdGlvbiBiZXR3ZWVuICBDT1ZJRC0xOSBtb3J0YWxpdHkgYW5kIGZvb2QgY29uc3VtcHRpb24/CiAgLSBJc3N1ZSBpbiBzdHVkeToKICAgICAgLSBkYXRhIGRyZWRnaW5nLCBwLWhhY2tpbmcsIC4uLjogd2hlbiB5b3UgYXNzZXNzIG1hbnkgaHlwb3RoZXNlcyB5b3Ugd2lsbCBhbGx3YXlzIGZpbmQgc3Ryb25nIHBhdHRlcm5zIGJ5IHJhbmRvbSBjaGFuZ2UgJFxyaWdodGFycm93JCBjb3JyZWN0IGZvciBtdWx0aXBsZSB0ZXN0aW5nIQogICAgICAtIEFzc3VtcHRpb25zIG9mIHRoZSBtb2RlbHMgZG8gbm90IGhvbGQKICAgICAgLSBDb25mb3VuZGluZwoKMi4gRXhwZXJpbWVudGFsIGRlc2lnbgoKICAgIC0gQ29uZm91bmRpbmc6IGNvdW50cmllcyBkbyBub3Qgb25seSBkaWZmZXIgaW4gY29uc3VtcHRpb24gb2YgYSB2ZWdldGFibGUgYnV0IGFsc28gaW4gbWF5IG90aGVyIHZhcmlhYmxlcyAoZGVtb2dyYXBoaWNhbCwgQ09WSUQgbWVhc3VyZXMsIGhlYWx0eSBjYXJlLCAuLi4pIHRoYXQgYXJlIGFzc29jaWF0ZWQgd2l0aCBDT1ZJRCBtb3J0YWxpdHkuCgogICAgLSBEaWZmaWN1bHQgdG8gZHJhdyBjYXVzYWwgY29uY2x1c2lvbnMgZnJvbSBvYnNlcnZhdGlvbmFsIHN0dWRpZXMuCgogICAgLSBJbiBleHBlcmltZW50YWwgc3R1ZGllczogcmFuZG9taXNhdGlvbiEgJFxyaWdodGFycm93JCBzbyB0aGF0ICB0aGUgZ3JvdXBzIG9ubHkgZGlmZmVyIGluIHRoZSB0cmVhdG1lbnQuCgogICAgLSBFeHBlcmltZW50YWwgc3R1ZGllcyBhcmUgdGhlcmVmb3JlIHRoZSBnb2xkZW4gc3RhbmRhcmQKCjMuIERhdGEgZXhwbG9yYXRpb24gYW5kIHZpc3VhbGlzYXRpb24KCiAgICAtIENydWNpYWwgdG8gZ2V0IGluc2lnaHQgaW4gdGhlIGRhdGEhCiAgICAtIEFzc2VzcyBtb2RlbCBhc3N1bXB0aW9ucwoKLS0tCgojIFNtZWxseSBhcm1waXQgZXhhbXBsZQoKLSBTbWVsbHkgYXJtcGl0cyBhcmUgbm90IGNhdXNlZCBieSBzd2VhdCBpdHNlbGYuIFRoZSBzbWVsbCBpcyBjYXVzZWQgYnkgc3BlY2lmaWMgbWljcm8tb3JnYW5pc21zIGJlbG9uZ2luZyB0byB0aGUgZ3JvdXAgb2YgKkNvcnluZWJhY3Rlcml1bSBzcHAuKiB0aGF0IG1ldGFib2xpc2Ugc3dlYXQuCkFub3RoZXIgZ3JvdXAgb2YgYWJ1bmRhbnQgYmFjdGVyaWEgYXJlIHRoZSAqU3RhcGh5bG9jb2NjdXMgc3BwLiosIHRoZXNlIGJhY3RlcmlhIGRvIG5vdCBtZXRhYm9saXNlIHN3ZWF0IGluIHNtZWxseSBjb21wb3VuZHMuCgotIFRoZSBDTUVULWdyb2VwIGF0IEdoZW50IFVuaXZlcnNpdHkgZG9lcyByZXNlYXJjaCBvbiB0cmFuc3BsYW50aW5nIHRoZSBhcm1waXQgbWljcm9iaW9tZSB0byBzYXZlIHBlb3BsZSB3aXRoIHNtZWxseSBhcm1waXRzLgoKLSBQcm9wb3NlZCBUaGVyYXB5OgogIAkxLiBSZW1vdmUgYXJtcGl0LW1pY3JvYmlvbWUgd2l0aCBhbnRpYmlvdGljcwogICAgMi4gSW5mbHVlbmNlIGFybXBpdCBtaWNyb2Jpb21lIHdpdGggbWljcm9iaWFsICB0cmFuc3BsYW50IChodHRwczovL3lvdXR1LmJlLzlSSUZ5cUxYZFZ3KQoKCmBgYHtyIG91dC53aWR0aD0nODAlJyxmaWcuYXNwPS44LCBmaWcuYWxpZ249J2NlbnRlcicsZWNobz1GQUxTRX0KaWYgKCJwaSIlaW4lbHMoKSkgcm0oInBpIikKa29wdm9ldGVyPC1mdW5jdGlvbih4LHksYW5nbGU9MCxsPS4yLGNleC5kb3Q9LjUscGNoPTE5LGNvbD0iYmxhY2siKQp7CmFuZ2xlPWFuZ2xlLzE4MCpwaQpwb2ludHMoeCx5LGNleD1jZXguZG90LHBjaD1wY2gsY29sPWNvbCkKbGluZXMoYyh4LHgrbCpjb3MoLXBpLzIrYW5nbGUpKSxjKHkseStsKnNpbigtcGkvMithbmdsZSkpLGNvbD1jb2wpCmxpbmVzKGMoeCtsLzIqY29zKC1waS8yK2FuZ2xlKSx4K2wvMipjb3MoLXBpLzIrYW5nbGUpK2wvNCpjb3MoYW5nbGUpKSxjKHkrbC8yKnNpbigtcGkvMithbmdsZSkseStsLzIqc2luKC1waS8yK2FuZ2xlKStsLzQqc2luKGFuZ2xlKSksY29sPWNvbCkKbGluZXMoYyh4K2wvMipjb3MoLXBpLzIrYW5nbGUpLHgrbC8yKmNvcygtcGkvMithbmdsZSkrbC80KmNvcyhwaSthbmdsZSkpLGMoeStsLzIqc2luKC1waS8yK2FuZ2xlKSx5K2wvMipzaW4oLXBpLzIrYW5nbGUpK2wvNCpzaW4ocGkrYW5nbGUpKSxjb2w9Y29sKQpsaW5lcyhjKHgrbCpjb3MoLXBpLzIrYW5nbGUpLHgrbCpjb3MoLXBpLzIrYW5nbGUpK2wvMipjb3MoLXBpLzIrcGkvNCthbmdsZSkpLGMoeStsKnNpbigtcGkvMithbmdsZSkseStsKnNpbigtcGkvMithbmdsZSkrbC8yKnNpbigtcGkvMitwaS80K2FuZ2xlKSksY29sPWNvbCkKbGluZXMoYyh4K2wqY29zKC1waS8yK2FuZ2xlKSx4K2wqY29zKC1waS8yK2FuZ2xlKStsLzIqY29zKC1waS8yLXBpLzQrYW5nbGUpKSxjKHkrbCpzaW4oLXBpLzIrYW5nbGUpLHkrbCpzaW4oLXBpLzIrYW5nbGUpK2wvMipzaW4oLXBpLzItcGkvNCthbmdsZSkpLGNvbD1jb2wpCn0KCnBhcihtYXI9YygwLDAsMCwwKSxtYWk9YygwLDAsMCwwKSkKcGxvdCgwLDAseGxhYj0iIix5bGFiPSIiLHhsaW09YygwLDEwKSx5bGltPWMoMCwxMCksY29sPTAseGF4dD0ibm9uZSIseWF4dD0ibm9uZSIsYXhlcz1GQUxTRSkKcmVjdCgwLDYsMTAsMTAsYm9yZGVyPSJyZWQiLGx3ZD0yKQp0ZXh0KC41LDgsInBvcHVsYXRpb24iLHNydD05MCxjb2w9InJlZCIsY2V4PTIpCnN5bWJvbHMgKDMsIDgsIGNpcmNsZXM9MS41LCBjb2w9InJlZCIsYWRkPVRSVUUsZmc9InJlZCIsaW5jaGVzPUZBTFNFLGx3ZD0yKQpzZXQuc2VlZCgzMzApCmdyaWQ9c2VxKDAsMS4zLC4wMSkKCmZvciAoaSBpbiAxOjUwKQp7CglhbmdsZTE9cnVuaWYobj0xLG1pbj0wLG1heD0zNjApCglhbmdsZTI9cnVuaWYobj0xLG1pbj0wLG1heD0zNjApCglyYWRpdXM9c2FtcGxlKGdyaWQscHJvYj1ncmlkXjIqcGkvc3VtKGdyaWReMipwaSksc2l6ZT0xKQoJa29wdm9ldGVyKDMrcmFkaXVzKmNvcyhhbmdsZTEvMTgwKnBpKSw4K3JhZGl1cypzaW4oYW5nbGUxLzE4MCpwaSksYW5nbGU9YW5nbGUyKQp9CnRleHQoNy41LDgsIk1pY3JvYmlvbWUgaW4gcG9wdWxhdGlvbiIsY29sPSJyZWQiLGNleD0xLjIpCgpyZWN0KDAsMCwxMCw0LGJvcmRlcj0iYmx1ZSIsbHdkPTIpCnRleHQoLjUsMiwic2FtcGxlIixzcnQ9OTAsY29sPSJibHVlIixjZXg9MikKc3ltYm9scyAoMywgMiwgY2lyY2xlcz0xLjUsIGNvbD0icmVkIixhZGQ9VFJVRSxmZz0iYmx1ZSIsaW5jaGVzPUZBTFNFLGx3ZD0yKQpmb3IgKGkgaW4gMDoxKQoJZm9yIChqIGluIDA6NCkKewoKCWtvcHZvZXRlcigyLjEraiooMy45LTIuMSkvNCwxLjEraS8yLGNvbD0icHVycGxlIikKfQpmb3IgKGkgaW4gMjozKQoJZm9yIChqIGluIDA6NCkKewoKCWtvcHZvZXRlcigyLjEraiooMy45LTIuMSkvNCwxLjYraS8yLGNvbD0ib3JhbmdlIikKfQp0ZXh0KDcuNSwyLCJNaWNyb2Jpb21lIGluIHNhbXBsZSIsY29sPSJibHVlIixjZXg9MS4yKQoKYXJyb3dzKDMsNS45LDMsNC4xLGNvbD0iYmxhY2siLGx3ZD0zKQp0ZXh0KDEuNSw1LCJFWFAuIERFU0lHTiAoMSkiLGNvbD0iYmxhY2siLGNleD0xLjIpCnRleHQoNy41LC41LCJEQVRBIEVYUExPUkFUSU9OICZcbkRFU0NSSVBUSVZFIFNUQVRJU1RJQ1MgKDIpIixjb2w9ImJsYWNrIixjZXg9MS4yKQphcnJvd3MoNyw0LjEsNyw1LjksY29sPSJibGFjayIsbHdkPTMpCnRleHQoOC41LDUsIkVTVElNQVRJT04gJlxuSU5GRVJFTkNFICgzKSIsY29sPSJibGFjayIsY2V4PTEuMikKYGBgCgoKLSBFeHBlcmltZW50OgoKICAgIC0gMjAgc3ViamVjdHMgd2l0aCBzbWVsbHkgYXJtcGl0cyBhcmUgYXR0cmlidXRlZCB0byBvbmUgb2YgdHdvIHRyZWF0bWVudCBncm91cHMKICAgIC0gcGxhY2VibyAob25seSBhbnRpYmlvdGljcykKICAgIC0gdHJhbnNwbGFudCAoYW50aWJpb3RpY3MgZm9sbG93ZWQgYnkgbWljcm9iaWFsIHRyYW5zcGxhbnQpLgogICAgLSBUaGUgbWljcm9iaW9tZSBpcyBzYW1wbGVkIDYgd2Vla3MgdXBvbiB0aGUgdHJlYXRtZW50LgogICAgLSBUaGUgcmVsYXRpdmUgYWJ1bmRhbmNlIG9mICpTdGFwaHlsb2NvY2N1cyBzcHAuKiBvbiAqQ29yeW5lYmFjdGVyaXVtIHNwcC4qICsgKlN0YXBoeWxvY29jY3VzIHNwcC4qIGluIHRoZSBtaWNyb2Jpb21lIGlzIG1lYXN1cmVkIHZpYSBER0dFICgqRGVuYXR1cmluZyBHcmFkaWVudCBHZWwgRWxlY3Ryb3Bob3Jlc2lzKikuCgotLS0KCiMjIEltcG9ydCB0aGUgZGF0YQpgYGB7cn0KcmVhZF9saW5lcygiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0dUUEIvUFNMUzIwL21hc3Rlci9kYXRhL2FybXBpdC5jc3YiKQpgYGAKClRoZSBmaWxlIGlzIGNvbW1hIHNlcGFyYXRlZCBhbmQgaW4gdGlkeSBmb3JtYXQKCmBgYHtyfQphcDwtcmVhZF9jc3YoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HVFBCL1BTTFMyMC9tYXN0ZXIvZGF0YS9hcm1waXQuY3N2IikKYXAKYGBgCgotLS0KCiMjIERhdGEgRXhwbG9yYXRpb24gYW5kIERlc2NyaXB0aXZlIFN0YXRpc3RpY3MKCi0gRGF0YSBleHBsb3JhdGlvbiBpcyBleHRyZW1lbHkgaW1wb3J0YW50IHRvIGdldCBpbnNpZ2h0IGluIHRoZSBkYXRhLgotIEl0IGlzIG9mdGVuIHVuZGVycmF0ZWQgYW5kIG92ZXJsb29rZWQuCgojIyMgRGVzY3JpcHRpdmUgc3RhdGlzdGljcwoKV2UgZmlyc3Qgc3VtbWFyaXplIHRoZSBkYXRhIGFuZCBjYWxjdWxhdGUgdGhlIG1lYW4sIHN0YW5kYXJkIGRldmlhdGlvbiwgbnVtYmVyIG9mIG9ic2VydmF0aW9ucyBhbmQgc3RhbmRhcmQgZXJyb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gYW4gb2JqZWN0IGFwUmVsU3VtIHZpYSAnYXBSZWxTdW08LWAKCjEuIFdlIHBpcGUgdGhlIGBhcGAgZGF0YWZyYW1lIHRvIHRoZSBncm91cF9ieSBmdW5jdGlvbiB0byBncm91cCB0aGUgZGF0YSBieSB0cmVhdG1lbnQgdHJ0IGBncm91cF9ieSh0cnQpYAoyLiBXZSBwaXBlIHRoZSByZXN1bHQgdG8gdGhlIGBzdW1tYXJpemVfYXRgIGZ1bmN0aW9uIHRvIHN1bW1hcml6ZSB0aGUgInJlbCIgdmFyaWFibGUgYW5kIGNhbGN1bGF0ZSB0aGUgbWVhbiwgc3RhbmRhcmQgZGV2aWF0aW9uIGFuZCB0aGUgbnVtYmVyIG9mIG9ic2VydmF0aW9ucwozLiBXZSBwaXBlIHRoZSByZXN1bHQgdG8gdGhlIGBtdXRhdGVgIGZ1bmN0aW9uIHRvIG1ha2UgYSBuZXcgdmFyaWFibGUgaW4gdGhlIGRhdGEgZnJhbWUgYHNlYCBmb3Igd2hpY2ggd2UgY2FsY3VsYXRlIHRoZSBzdGFuZGFyZCBlcnJvcgoKCmBgYHtyfQphcFJlbFN1bTwtYXAlPiUKICBncm91cF9ieSh0cnQpJT4lCiAgc3VtbWFyaXplX2F0KCJyZWwiLAogICAgICAgICAgICAgICBsaXN0KG1lYW49fm1lYW4oLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBzZD1+c2QoLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBuPWZ1bmN0aW9uKHgpIHglPiVpcy5uYSU+JWAhYCU+JXN1bSkpICU+JQogIG11dGF0ZShzZT1zZC9zcXJ0KG4pKQoKYXBSZWxTdW0KYGBgCgotLS0KCiMjIyBQbG90cwpXZSB3aWxsIHVzZSBnZ3Bsb3QyIHRvIG1ha2Ugb3VyIHBsb3RzLgpXaXRoIHRoZSBnZ3Bsb3QyIGxpYnJhcnkgd2UgY2FuIGVhc2lseSBidWlsZCBwbG90cyBieSBhZGRpbmcgbGF5ZXJzLgoKIyMjIyBiYXJwbG90CgoxLiBXZSBwaXBlIG91ciBzdW1tYXJpemVkIGRhdGEgdG8gdGhlIGBnZ3Bsb3RgIGZ1bmN0aW9uIGFuZCB3ZSBzZWxlY3QgdGhlIHRyZWF0bWVudCB2YXJpYWJsZSB0cnQgYW5kIHRoZSB2YXJpYWJsZSBtZWFuIGZvciBwbG90dGluZyBgYWVzKHg9dHJ0LHk9bWVhbilgCgoyLiBXZSBtYWtlIGEgYmFycGxvdCBiYXNlZCBvbiB0aGlzIGRhdGEgdXNpbmcgdGhlIGBnZW9tX2JhcmAgZnVuY3Rpb24uIFRoZSBzdGF0aXN0aWMgaXMgYHN0YXQ9ImlkZW50aXR5ImAgYmVjYXVzZSB0aGUgYmFyIGhlaWdodCBzaG91bGQgYmUgZXF1YWwgdGhlIHZhbHVlIGZvciB0aGUgbWVhbiBvZiB0aGUgcmVsYXRpdmUgYWJ1bmRhbmNlLgoKYGBge3J9CmFwUmVsU3VtJT4lCiAgZ2dwbG90KGFlcyh4PXRydCx5PW1lYW4pKSArCiAgZ2VvbV9iYXIoc3RhdD0iaWRlbnRpdHkiKQpgYGAKCi0gSXMgdGhpcyBwbG90IGluZm9ybWF0aXZlPz8KCi0tLQoKV2Ugd2lsbCBub3cgYWRkIHN0YW5kYXJkIGVycm9ycyB0byB0aGUgcGxvdAp1c2luZyBgZ2VvbV9lcnJvcmJhcmAgZnVuY3Rpb24gYW5kIHNwZWNpZnkgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWUgZm9yIG9mIHRoZSBlcnJvciBiYXIsIHRoZSB3aWR0aCBjb21tYW5kIGlzIHVzZWQgdG8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZXJyb3IgYmFyIHNtYWxsZXIgdGhhbiB0aGUgd2lkdGggb2YgdGhlIGJhci4KCmBgYHtyfQphcFJlbFN1bSU+JQogIGdncGxvdChhZXMoeD10cnQseT1tZWFuKSkgKwogIGdlb21fYmFyKHN0YXQ9ImlkZW50aXR5IikgKwogIGdlb21fZXJyb3JiYXIoYWVzKHltaW49bWVhbi1zZSx5bWF4PW1lYW4rc2UpLHdpZHRoPS4yKQpgYGAKCi0gSXMgdGhpcyBwbG90IGluZm9ybWF0aXZlPz8KCi0tLQoKIyMjIyBib3hwbG90cwoKSSBjb25zaWRlciBiYXJwbG90cyB0byBiZSBiYWQgcGxvdHMKCi0gVGhleSBhcmUgbm90IGluZm9ybWF0aXZlCi0gVGhleSBqdXN0IHZpc3VhbGl6ZSBhIHR3byBwb2ludCBzdW1tYXJ5IG9mIHRoZSBkYXRhLiBJdCBpcyBiZXR0ZXIgdG8gZG8gdGhpcyBpbiBhIHRhYmxlCi0gVGhleSB1c2UgYSBsb3Qgb2Ygc3BhY2UgKGUuZy4gZnJvbSB6ZXJvIHVwIHRvIHRoZSBtaW5pbXVtIHJlbGF0aXZlIGFidW5kYW5jZSkgd2hlcmUgbm8gZGF0YSBhcmUgcHJlc2VudC4KCkl0IGlzIGJldHRlciB0byBnZXQgYSB2aWV3IG9uIHRoZSBkaXN0cmlidXRpb24gb2YgdGhlIGRhdGEuIFdlIGNhbiB1c2UgYSBib3hwbG90IGZvciB0aGlzIHB1cnBvc2UuCldlIGZpcnN0IGV4cGxhaW4gd2hhdCBhIGJveHBsb3QuCgotLS0KCmBgYHtyIGZpZy5hbGlnbj0nY2VudGVyJyxlY2hvPUZBTFNFfQpmZW0gPC0gTkhBTkVTOjpOSEFORVMgJT4lIGZpbHRlcihHZW5kZXI9PSJmZW1hbGUiICYgIWlzLm5hKERpcmVjdENob2wpKSAlPiUgc2VsZWN0KERpcmVjdENob2wpCmJveHBsb3QoZmVtJERpcmVjdENob2wsIHlsYWI9IkRpcmVjdCBjaG9sZXN0ZXJvbCIsY2V4LmxhYj0xLjUsY2V4LmF4aXM9MS41LGNleC5tYWluPTEuNSkKcmFuZ2VDbDwtcXVhbnRpbGUoZmVtJERpcmVjdENob2wsYyguMjUsLjc1KSkrYygtMSwxKSpkaWZmKHF1YW50aWxlKGZlbSREaXJlY3RDaG9sLGMoLjI1LC43NSkpKSoxLjUKYm94WXM8LWMocmFuZ2UoZmVtJERpcmVjdENob2xbZmVtJERpcmVjdENob2w8PXJhbmdlQ2xbMl0mZmVtJERpcmVjdENob2w+PXJhbmdlQ2xbMV1dKSxxdWFudGlsZShmZW0kRGlyZWN0Q2hvbCxjKC4yNSwuNSwuNzUpKSxyYW5nZUNsWzJdKyhtYXgoZmVtJERpcmVjdENob2wpLXJhbmdlQ2xbMl0pLzIpCnRleHQoMS4zLGJveFlzLGxhYmVscz1jKCJ3aXNrZXIiLCJ3aXNrZXIiLCJ4MjUiLCJtZWRpYWFuIiwieDc1Iiwib3V0bGllcnMiKSxwb3M9NCxjZXg9MS4zKQpsaW5lcyhjKDEuMSwxLjMsMS4zLDEuMSksYyhyYW5nZUNsWzJdLHJhbmdlQ2xbMl0rKG1heChmZW0kRGlyZWN0Q2hvbCktcmFuZ2VDbFsyXSkvMixyYW5nZUNsWzJdKyhtYXgoZmVtJERpcmVjdENob2wpLXJhbmdlQ2xbMl0pLzIsbWF4KGZlbSREaXJlY3RDaG9sKSksbHR5PTIpCmBgYAoKLS0tCgpXZSB3aWxsIG5vdyBtYWtlIGEgYm94cGxvdCBmb3IgdGhlIGFwIGRhdGEKCjEuIFdlIHBpcGUgdGhlIGBhcGAgZGF0YWZyYW1lIHRvIHRoZSBnZ3Bsb3QgY29tbWFuZAoyLiBXZSBzZWxlY3QgdGhlIGRhdGEgd2l0aCB0aGUgY29tbWFuZCBgZ2dwbG90KGFlcyh4PXRydCx5PXJlbCkpYAozLiBXZSBhZGQgYSBib3hwbG90IHdpdGggdGhlIGNvbW1hbmQgYGdlb21fYm94cGxvdCgpYAoKYGBge3J9CmFwICU+JQogIGdncGxvdChhZXMoeD10cnQseT1yZWwpKSArCiAgZ2VvbV9ib3hwbG90KCkKYGBgCgotLS0KCi0gTm90ZSwgdGhhdCB3ZSBkbyBub3QgaGF2ZSBzbyBtYW55IG9ic2VydmF0aW9ucy4KCi0gSXQgaXMgYWx3YXlzIGJldHRlciB0byBzaG93IHRoZSBkYXRhIGFzIHJhdyBhcyBwb3NzaWJsZSEKCldlIHdpbGwgbm93IGFkZCB0aGUgcmF3IGRhdGEgdG8gdGhlIHBsb3QuCgotIE5vdGUgdGhhdCB3ZSBzZXQgdGhlIG91dGxpZXIuc2hhcGU9TkEgaW4gdGhlIGdlb21fYm94cGxvdCBmdW5jdGlvbiBiZWNhdXNlIGJlY2F1c2Ugd2Ugd2lsbCBhZGQgYWxsIHJhdyBkYXRhIGFueXdheS4KLSBXZSBhZGQgdGhlIHJhdyBkYXRhIHVzaW5nIGBnZW9tX3BvaW50KHBvc2l0aW9uPSJqaXR0ZXIiKWAsIHdpdGggdGhlIGFyZ3VtZW50IHBvc2l0aW9uPSdqaXR0ZXInIHdlIHdpbGwgYWRkIHNvbWUgcmFuZG9tIG5vaXNlIHRvIHRoZSB4IGNvb3JkaW5hdGUgc28gdGhhdCB3ZSBjYW4gc2VlIGFsbCBkYXRhLgoKYGBge3J9CmFwICU+JQogIGdncGxvdChhZXMoeD10cnQseT1yZWwpKSArCiAgZ2VvbV9ib3hwbG90KG91dGxpZXIuc2hhcGU9TkEpICsKICBnZW9tX3BvaW50KHBvc2l0aW9uPSJqaXR0ZXIiKQpgYGAKClRoaXMgaXMgYW4gaW5mb3JtYXRpdmUgcGxvdCEKCi0tLQoKLSBXZSBvYnNlcnZlZCBhbiBlZmZlY3Qgb2YgdGhlIHRyYW5zcGxhbnRhdGlvbiBvbiB0aGUgcmVsYXRpZXZlIGFidW5kYW50aWUgb2YgU3RhcGh5bG9jb2NjdXMuCgotIElzIHRoYXQgZWZmZWN0IGxhcmdlIGVub3VnaCB0byBjb25jbHVkZSB0aGF0IHRoZSB0cmVhdG1lbnQgd29ya3M/CgotLS0KCiMjIEVzdGltYXRpb24gYW5kIHN0YXRpc3RpY2FsIGluZmVyZW5jZQoKLSBJbmR1Y3Rpb246IFdpdGggc3RhdGlzdGljYWwgaW5mZXJlbmNlIHdlIGNhbiBnZW5lcmFsaXplIHdoYXQgd2Ugb2JzZXJ2ZSBpbiB0aGUgc2FtcGxlIHRvd2FyZHMgdGhlIHBvcHVsYXRpb24uCgotIFRoZSBwcmljZSB0aGF0IHdlIGhhdmUgdG8gcGF5OiB1bmNlcnRhaW50eSBvbiBvdXIgY29uY2x1c2lvbnMhCgotLS0KCi0gV2l0aCBkYXRhIHdlIGNhbm5vdCBwcm92ZSB0aGF0IHRoZSB0cmVhdG1lbnQgd29ya3MKCi0gRmFsc2lmaWNhdGlvbiBwcmluY2lwbGUgb2YgUG9wcGVyOiBXaXRoIGRhdGEgd2UgY2FuIG9ubHkgIHJlamVjdCBhIGh5cG90aGVzaXMgb3IgdGhlb3J5LgoKLSBXaXRoIHN0YXRzIHdlIGNhbiB0aHVzIG5vdCBwcm92ZSB0aGF0IHRoZSB0cmVhdG1lbnQgd29ya3MuCgotIEJ1dCBzdGF0cyB3aWxsIGFsbG93IHVzIHRvIGZhbGNpZnkgdGhlIG9wcG9zaXRlIGh5cG90aGVzaXM6IGhvdyBtdWNoIGV2aWRlbmNlIGlzIHRoZXJlIGluIHRoZSBkYXRhIGFnYWluc3QgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGVyZSBpcyBubyBlZmZlY3Qgb2YgdGhlIHRyZWF0bWVudD8KCi0gV2l0aCBzdGF0cyB3ZSBjYW4gY2FsY3VsYXRlIGhvdyBsaWtlbHkgaXQgaXMgdG8gZHJhdyBhIHJhbmRvbSBzYW1wbGUgKHdoZW4geW91IHdvdWxkIHJlcGVhdCB0aGUgZXhwZXJpbWVudCkgd2l0aCBhIG1lYW4gZGlmZmVyZW5jZSBpbiByZWxhdGl2ZSBhYnVuZGFuY2UgYmV0d2VlbiB0cmFuc3BsYW50IGFuZCBwbGFjZWJvIGdyb3VwIHRoYXQgaXMgYXQgbGVhc3QgYXMgbGFyZ2UgYXMgd2hhdCB3ZSBvYnNlcnZlZCBpbiBvdXIgc2FtcGxlIHdoZW4gdGhlcmUgd291bGQgYmUgbm8gZWZmZWN0IG9mIHRoZSB0cmVhdG1lbnQuCgotIFRoaXMgcHJvYmFiaWxpdHkgaXMgY2FsbGVkIGEgcC12YWx1ZS4KCi0gSWYgcCBpcyB2ZXJ5IHNtYWxsLCBpdCBpcyB2ZXJ5IHVubGlrZWx5IHRvIG9ic2VydmUgYSBzYW1wbGUgbGlrZSBvdXJzIGJ5IHJhbmRvbSBjaGFuZ2Ugd2hlbiB0aGVyZSB3b3VsZCBiZSBubyBlZmZlY3Qgb2YgdGhlIHRyZWF0bWVudC4KCi0gV2UgdHlwaWNhbGx5IGNvbXBhcmUgcCB3aXRoIDUlLiBJZiB0aGVyZSBpcyBubyBlZmZlY3Qgb2YgdGhlIHRyZWF0bWVudCB3ZSB3aWxsIHRodXMgdG9sZXJhdGUgYSBwcm9iYWJpbGl0eSBvZiA1JSBvbiBhIGZhbHNlIHBvc2l0aXZlIGNvbmNsdXNpb24uCgotIFRvIGNhbGN1bGF0ZSBwIHdlIHdpbGwgaGF2ZSB0byBtb2RlbCB0aGUgZGF0YSB1c2luZyAgc3RhdGlzdGljYWwgbW9kZWxzLgoKLS0tCgpJbiBjaGFwdGVyIDUgd2Ugd2lsbCBsZWFybiB0aGF0IHdlIGNhbiB1c2UgYSB0d28tc2FtcGxlIHQtdGVzdCB0byBnZW5lcmFsaXNlIHdoYXQgd2Ugb2JzZXJ2ZSBpbiB0aGUgbWljcm9iaW9tZSBkYXRhc2V0IHRvd2FyZHMgdGhlIHBvcHVsYXRpb24uCgpgYGB7cn0KdC50ZXN0KHJlbH50cnQsZGF0YT1hcCkKYGBgCgpDb25jbHVzaW9uOgoKV2UgY2FuIGNvbmNsdWRlIHRoYXQgdGhlIHJlbGF0aXZlIGFidW5kYW5jZSBvZiBTdGFwaHlsb2NvY2N1cyBpbiB0aGUgbWljcm9iaW9tZSBvZiBpbmRpdmlkdWFscyB3aXRoIHNtZWxseSBhcm1waXRzICBpcyBgciBmb3JtYXQoYXBSZWxTdW0kbWVhblsyXS1hcFJlbFN1bSRtZWFuWzFdLGRpZ2l0cz0zKWAlIGhpZ2hlciB1cG9uIHRoZSB0cmFuc3BsYW50IHRoYW4gdXBvbiB0aGUgcGxhY2VibyB0cmVhdG1lbnQgKHAgPCAwLjAwMSkuCgotLS0KCiMjIFNvbWUgY29uY2VwdHMKCldoYXQgYXJlIHRoZSBjb25zZXF1ZW5jZXMgb2YgdXNpbmcgYSBzYW1wbGUgYW5kIHJhbmRvbWlzYXRpb24/CgotIFJhbmRvbSBzYW1wbGluZyBpcyBjbG9zZWx5IHJlbGF0ZWQgdG8gdGhlIGNvbmNlcHQgb2YgdGhlIHBvcHVsYXRpb24gb3IgdGhlIHNjb3BlIG9mIHRoZSBzdHVkeS4KCi0gQmFzZWQgb24gYSBzYW1wbGUgb2Ygc3ViamVjdHMsIHRoZSByZXNlYXJjaGVycyB3YW50IHRvIGNvbWUgdG8gY29uY2x1c2lvbnMgdGhhdCBob2xkIGZvcgoKICAgIC0gYWxsIGtpbmRzIG9mIHBlb3BsZQogICAgLSBvbmx5IG1hbGUgc3R1ZGVudHMKCi0gU2NvcGUgb2YgdGhlIHN0dWR5IHNob3VsZCBiZSB3ZWxsIHNwZWNpZmllZCBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBzdHVkeS4KCi0gRm9yIHRoZSBzdGF0aXN0aWNhbCBhbmFseXNpcyB0byBiZSB2YWxpZCwgaXQgaXMgcmVxdWlyZWQgdGhhdCB0aGUgc3ViamVjdHMgYXJlIHNlbGVjdGVkIGNvbXBsZXRlbHkgYXQgcmFuZG9tIGZyb20gdGhlIHBvcHVsYXRpb24gdG8gd2hpY2ggd2Ugd2FudCB0byBnZW5lcmFsaXplIG91ciBjb25jbHVzaW9ucy4KCi0gU2VsZWN0aW5nIGNvbXBsZXRlbHkgYXQgcmFuZG9tIGZyb20gYSBwb3B1bGF0aW9uIGltcGxpZXM6CiAgICAtIGFsbCBzdWJqZWN0cyBpbiB0aGUgcG9wdWxhdGlvbiBzaG91bGQgaGF2ZSB0aGUgc2FtZSBwcm9iYWJpbGl0eSBvZiBiZWluZyBzZWxlY3RlZCBpbiB0aGUgc2FtcGxlLAogICAgLSB0aGUgc2VsZWN0aW9uIG9mIGEgc3ViamVjdCBpbiB0aGUgc2FtcGxlIHNob3VsZCBiZSBpbmRlcGVuZGVudCBmcm9tIHRoZSBzZWxlY3Rpb24gb2YgdGhlIG90aGVyIHN1YmplY3RzIGluIHRoZSBzYW1wbGUuCgotIFRoZSBzYW1wbGUgaXMgdGh1cyBzdXBwb3NlZCB0byBiZSByZXByZXNlbnRhdGl2ZSBmb3IgdGhlIHBvcHVsYXRpb24sIGJ1dCBzdGlsbCBpdCBpcyByYW5kb20uCgotIFdoYXQgZG9lcyB0aGlzIGltcGx5PwoKLS0tCgojIFNhbXBsZSB0byBzYW1wbGUgdmFyaWFiaWxpdHkKCk5hdGlvbmFsIEhlYWx0aCBOSGFuZXMgc3R1ZHkKCiAgLSBTaW5jZSAxOTYwIGluZGl2aWR1YWxzIG9mIGFsbCBhZ2VzIGFyZSBpbnRlcnZpZXdlZCBpbiB0aGVpciBob21lcyBldmVyeSB5ZWFyCiAgLSBUaGUgaGVhbHRoIGV4YW1pbmF0aW9uIGNvbXBvbmVudCBvZiB0aGUgc3VydmV5IGlzIGNvbmR1Y3RlZCBpbiBhIG1vYmlsZSBleGFtaW5hdGlvbiBjZW50cmUgKE1FQykuCiAgLSBXZSB3aWxsIHVzZSB0aGlzIGxhcmdlIHN0dWR5IHRvIHNlbGVjdCByYW5kb20gc3ViamVjdHMgZnJvbSB0aGUgQW1lcmljYW4gcG9wdWxhdGlvbi4KICAtIFRoaXMgd2lsbCBoZWxwIHVzIHRvIHVuZGVyc3RhbmQgaG93IHRoZSByZXN1bHRzIG9mIGFuIGFuYWx5c2lzIGFuZCB0aGUgY29uY2x1c2lvbnMgdmFyeSBmcm9tIHNhbXBsZSB0byBzYW1wbGUuCgotLS0KCmBgYHtyfQpsaWJyYXJ5KE5IQU5FUykKaGVhZChOSEFORVMpCmdsaW1wc2UoTkhBTkVTKQpgYGAKCi0tLQoKIyMgRGF0YSBleHBsb3JhdGlvbgoKClN1cHBvc2UgdGhhdCB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBhc3Nlc3NpbmcgdGhlIGRpZmZlcmVuY2UgaW4gZGlyZWN0IGNob2xlc3Rlcm9sIGxldmVscyBiZXR3ZWVuIG1hbGVzIGFuZCBmZW1hbGVzIG9sZGVyIHRoYW4gMjUgeWVhcnMuCgoxLiBXZSBwaXBlIHRoZSBkYXRhc2V0IHRvIHRoZSBmdW5jdGlvbiBgZmlsdGVyYCB0byBmaWx0ZXIgdGhlIGRhdGEgYWNjb3JkaW5nIHRvIGFnZS4KMi4gV2UgcGxvdCB0aGUgZGlyZWN0IGNob2xlc3Rlcm9sIGxldmVscy4KICAgIC0gV2Ugc2VsZWN0IHRoZSBkYXRhIHdpdGggdGhlIGNvbW1hbmQgYGdncGxvdChhZXMoeD1EaXJlY3RDaG9sKSlgCiAgICAtIFdlIGFkZCBhIGhpc3RvZ3JhbSB3aXRoIHRoZSBjb21tYW5kIGBnZW9tX2hpc3RvZ3JhbSgpYAogICAgLSBXZSBtYWtlIHRvIHZlcnRpY2FsIHBhbmVscyB1c2luZyB0aGUgY29tbWFuZCBgZmFjZXRfZ3JpZChHZW5kZXJ+LilgCiAgICAtIFdlIGN1c3RvbWl6ZSB0aGUgbGFiZWwgb2YgdGhlIHgtYXhpcyB3aXRoIHRoZSBgeGxhYmAgY29tbWFuZC4KCmBgYHtyfQpOSEFORVMlPiVmaWx0ZXIoQWdlPjI1KSU+JQogIGdncGxvdChhZXMoeD1EaXJlY3RDaG9sKSkrCiAgZ2VvbV9oaXN0b2dyYW0oKSArCiAgZmFjZXRfZ3JpZChHZW5kZXJ+LikgKwogIHhsYWIoIkRpcmVjdCBjaG9sZXN0ZXJvbCAobWcvZGwpIikKYGBgCgotLS0KCi0gQ2hvbGVzdGVyb2wgbGV2ZWxzIGFuZCBjb25jZW50cmF0aW9uIG1lYXN1cmVtZW50cyBhcmUgb2Z0ZW4gc2tld2VkLgotIENvbmNlbnRyYXRpb25zIGNhbm5vdCBiZSBsb3dlciB0aGFuIDAuCi0gVGhleSBhcmUgb2Z0ZW4gbG9nIHRyYW5zZm9ybWVkLgoKYGBge3J9Ck5IQU5FUyU+JQogIGZpbHRlcihBZ2U+MjUpJT4lCiAgZ2dwbG90KGFlcyh4PURpcmVjdENob2wlPiVsb2cyKSkrCiAgZ2VvbV9oaXN0b2dyYW0oKSArCiAgZmFjZXRfZ3JpZChHZW5kZXJ+LikgKwogIHhsYWIoIkRpcmVjdCBjaG9sZXN0ZXJvbCAobG9nMikiKQpgYGAKCldlIHNlZSB0aGF0IHRoZSBkYXRhIGFyZSBtb3JlIG9yIGxlc3MgYmVsbCBzaGFwZWQgdXBvbiBsb2cgdHJhbnNmb3JtYXRpb24uCgotLS0KCldlIHdpbGwgbm93IGNyZWF0ZSBhIHN1YnNldCBvZiB0aGUgZGF0YSB0aGF0IHdlIHdpbGwgdXNlIHRvIHNhbXBsZSBmcm9tIGluIHRoZSBuZXh0IHNlY3Rpb25zLgoKICAxLiBXZSBmaWx0ZXIgb24gYWdlIGFuZCByZW1vdmUgc3ViamVjdHMgd2l0aCBtaXNzaW5nIHZhbHVlcyAoTkEpLgogIDIuIFdlIG9ubHkgc2VsZWN0IHRoZSB2YXJpYWJsZXMgR2VuZGVyIGFuZCBEaXJlY3RDaG9sIGZyb20gdGhlIGRhdGFzZXQgdG8gYXZvaWQgdW5uZWNlc3NhcnkgdmFyaWFibGVzLgogIDMuIFdpdGggdGhlIG11dGF0ZSBmdW5jdGlvbiB3ZSBjYW4gYWRkIGEgbmV3IHZhcmlhYmxlIGxvZ0Nob2wgd2l0aCBsb2cgdHJhbnNmb3JtZWQgZGlyZWN0IGNob2xlc3Rlcm9sIGxldmVscy4KCmBgYHtyfQpuaGFuZXNTdWI8LSBOSEFORVMlPiUKICBmaWx0ZXIoQWdlPjI1JiFpcy5uYShEaXJlY3RDaG9sKSkgJT4lCiAgc2VsZWN0KGMoIkdlbmRlciIsIkRpcmVjdENob2wiKSkgJT4lCiAgbXV0YXRlKGNob2xMb2c9bG9nMihEaXJlY3RDaG9sKSkKYGBgCgotLS0KCldlIHdpbGwgY2FsY3VsYXRlIHRoZSBzdW1tYXJ5IHN0YXRpc3RpY3MgZm9yIHRoZSBjaG9sTG9nIHZhcmlhYmxlIGZvciBtYWxlcyBhbmQgZmVtYWxlcyBpbiB0aGUgbGFyZ2UgZGF0YXNldC4KU28gd2UgZ3JvdXAgYnkgR2VuZGVyCgpgYGB7cn0KY2hvbExvZ1N1bTwtIG5oYW5lc1N1YiAlPiUKICBncm91cF9ieShHZW5kZXIpICU+JQogICBzdW1tYXJpemVfYXQoImNob2xMb2ciLAogICAgICAgICAgICAgICBsaXN0KG1lYW49fm1lYW4oLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBzZD1+c2QoLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBuPWZ1bmN0aW9uKHgpIHglPiVpcy5uYSU+JWAhYCU+JXN1bSkpICU+JQogIG11dGF0ZShzZT1zZC9zcXJ0KG4pKQoKY2hvbExvZ1N1bQpgYGAKCi0tLQoKIyMgRXhwZXJpbWVudAoKLSBTdXBwb3NlIHRoYXQgd2UgaGF2ZSBubyBhY2Nlc3MgdG8gY2hvbGVzdGVyb2wgbGV2ZWxzIG9mIHRoZSBBbWVyaWNhbiBwb3B1bGF0aW9uLAotIHdlIHdpbGwgaGF2ZSB0byBzZXR1cCBhbiBleHBlcmltZW50LgotIFN1cHBvc2Ugd2UgaGF2ZSBhIGJ1ZGdldCBmb3IgYXNzZXNzaW5nIDEwIGZlbWFsZXMgYW5kIDEwIG1hbGVzLAotIHdlIHdpbGwgc3Vic2V0IDEwIGZlbWFsZXMgYW5kIDEwIG1hbGVzIGF0IHJhbmRvbSBmcm9tIHRoZSBBbWVyaWNhbiBwb3B1bGF0aW9uIGFuZCBtZWFzdXJlIHRoZWlyIGRpcmVjdCBjaG9sZXN0ZXJvbCBsZXZlbHMuCgpgYGB7cn0KZmVtPC1uaGFuZXNTdWIlPiVmaWx0ZXIoR2VuZGVyPT0iZmVtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQptYWw8LW5oYW5lc1N1YiU+JWZpbHRlcihHZW5kZXI9PSJtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQoKc2FtcDwtcmJpbmQoZmVtLG1hbCkKc2FtcApgYGAKCi0tLQoKV2Ugd2lsbCBub3cgcGxvdCB0aGUgZGF0YSB3aXRoIGEgaGlzdG9ncmFtIGFuZCBib3hwbG90cwoKYGBge3J9CnNhbXAgJT4lCiAgZ2dwbG90KGFlcyh4PWNob2xMb2cpKSsKICBnZW9tX2hpc3RvZ3JhbShiaW53aWR0aCA9IC4xKSArCiAgZmFjZXRfZ3JpZChHZW5kZXJ+LikgKwogIHhsYWIoIkRpcmVjdCBjaG9sZXN0ZXJvbCAobG9nMikiKQoKc2FtcCU+JQogIGdncGxvdChhZXMoeD1HZW5kZXIseT1jaG9sTG9nKSkgKwogIGdlb21fYm94cGxvdChvdXRsaWVyLnNoYXBlPU5BKSArCiAgZ2VvbV9wb2ludChwb3NpdGlvbj0iaml0dGVyIikKYGBgCgotLS0KCldlIHN1bW1hcml6ZSB0aGUgZGF0YQpgYGB7cn0Kc2FtcCAlPiUKICBncm91cF9ieShHZW5kZXIpICU+JQogICBzdW1tYXJpemVfYXQoImNob2xMb2ciLAogICAgICAgICAgICAgICBsaXN0KG1lYW49fm1lYW4oLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBzZD1+c2QoLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBuPWZ1bmN0aW9uKHgpIHglPiVpcy5uYSU+JWAhYCU+JXN1bSkpICU+JQogIG11dGF0ZShzZT1zZC9zcXJ0KG4pKQpgYGAKCk5vdGUgdGhhdCB0aGUgc2FtcGxlIG1lYW4gaXMgZGlmZmVyZW50IGZyb20gdGhhdCBvZiB0aGUgbGFyZ2UgZXhwZXJpbWVudCAoInBvcHVsYXRpb24iKSB3ZSBzYW1wbGVkIGZyb20uCgpXZSB0ZXN0IGZvciB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIE1hbGVzIGFuZCBmZW1hbGVzCgpgYGB7cn0KdC50ZXN0KGNob2xMb2d+R2VuZGVyLHNhbXAsdmFyLmVxdWFsPVRSVUUpCmBgYAoKLS0tCgojIyBSZXBlYXQgdGhlIGV4cGVyaW1lbnQKCklmIHdlIGRvIHRoZSBleHBlcmltZW50IGFnYWluIHdlIHNlbGVjdCBvdGhlciBwZW9wbGUgYW5kIHdlIG9idGFpbiBkaWZmZXJlbnQgcmVzdWx0cy4KCgpgYGB7cn0KZmVtPC1uaGFuZXNTdWIlPiVmaWx0ZXIoR2VuZGVyPT0iZmVtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQptYWw8LW5oYW5lc1N1YiU+JWZpbHRlcihHZW5kZXI9PSJtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQoKc2FtcDI8LXJiaW5kKGZlbSxtYWwpCnNhbXAyJT4lCiAgZ2dwbG90KGFlcyh4PURpcmVjdENob2wlPiVsb2cpKSsKICBnZW9tX2hpc3RvZ3JhbShiaW53aWR0aCA9IC4xKSArCiAgZmFjZXRfZ3JpZChHZW5kZXJ+LikgKwogIHhsYWIoIkRpcmVjdCBjaG9sZXN0ZXJvbCAobG9nKSIpCgpzYW1wMiU+JQogIGdncGxvdChhZXMoeD1HZW5kZXIseT1jaG9sTG9nKSkgKwogIGdlb21fYm94cGxvdChvdXRsaWVyLnNoYXBlPU5BKSArCiAgZ2VvbV9wb2ludChwb3NpdGlvbj0iaml0dGVyIikKCnNhbXAyICU+JQogIGdyb3VwX2J5KEdlbmRlcikgJT4lCiAgIHN1bW1hcml6ZV9hdCgiY2hvbExvZyIsCiAgICAgICAgICAgICAgIGxpc3QobWVhbj1+bWVhbiguLG5hLnJtPVRSVUUpLAogICAgICAgICAgICAgICAgICAgIHNkPX5zZCguLG5hLnJtPVRSVUUpLAogICAgICAgICAgICAgICAgICAgIG49ZnVuY3Rpb24oeCkgeCU+JWlzLm5hJT4lYCFgJT4lc3VtKSkgJT4lCiAgbXV0YXRlKHNlPXNkL3NxcnQobikpCgp0LnRlc3QoY2hvbExvZ35HZW5kZXIsc2FtcDIsdmFyLmVxdWFsPVRSVUUpCmBgYAoKLS0tCgojIyBBbmQgYWdhaW4KCmBgYHtyfQpzZXQuc2VlZCgxMjg1NykKZmVtPC1uaGFuZXNTdWIlPiVmaWx0ZXIoR2VuZGVyPT0iZmVtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQptYWw8LW5oYW5lc1N1YiU+JWZpbHRlcihHZW5kZXI9PSJtYWxlIiklPiVzYW1wbGVfbihzaXplPTEwKQoKc2FtcDM8LXJiaW5kKGZlbSxtYWwpCnNhbXAzJT4lCiAgZ2dwbG90KGFlcyh4PURpcmVjdENob2wlPiVsb2cpKSsKICBnZW9tX2hpc3RvZ3JhbShiaW53aWR0aCA9IC4xKSArCiAgZmFjZXRfZ3JpZChHZW5kZXJ+LikgKwogIHhsYWIoIkRpcmVjdCBjaG9sZXN0ZXJvbCAobG9nKSIpCgpzYW1wMyU+JQogIGdncGxvdChhZXMoeD1HZW5kZXIseT1jaG9sTG9nKSkgKwogIGdlb21fYm94cGxvdChvdXRsaWVyLnNoYXBlPU5BKSArCiAgZ2VvbV9wb2ludChwb3NpdGlvbj0iaml0dGVyIikKCgpzYW1wMyAlPiUKICBncm91cF9ieShHZW5kZXIpICU+JQogICBzdW1tYXJpemVfYXQoImNob2xMb2ciLAogICAgICAgICAgICAgICBsaXN0KG1lYW49fm1lYW4oLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBzZD1+c2QoLixuYS5ybT1UUlVFKSwKICAgICAgICAgICAgICAgICAgICBuPWZ1bmN0aW9uKHgpIHglPiVpcy5uYSU+JWAhYCU+JXN1bSkpICU+JQogIG11dGF0ZShzZT1zZC9zcXJ0KG4pKQoKdC50ZXN0KGNob2xMb2d+R2VuZGVyLHNhbXAzLHZhci5lcXVhbD1UUlVFKQpgYGAKCi0tLQoKIyMgU3VtbWFyeQoKLSBCZWNhdXNlIHdlIHNhbXBsZWQgb3RoZXIgc3ViamVjdHMgaW4gZWFjaCBzYW1wbGUsIHdlIG9idGFpbiBkaWZmZXJlbnQgY2hvbGVzdGVyb2wgbGV2ZWxzLgotIEhvd2V2ZXIsIG5vdCBvbmx5IHRoZSBjaG9sZXN0ZXJvbCBsZXZlbHMgZGlmZmVyIGZyb20gc2FtcGxlIHRvIHNhbXBsZSBidXQgYWxzbyB0aGUgc3VtbWFyeSBzdGF0aXN0aWNzOiBtZWFucywgc3RhbmRhcmQgZGV2aWF0aW9ucyBhbmQgc3RhbmRhcmQgZXJyb3JzLgotIE5vdGUsIHRoYXQgaW4gdGhlIGxhc3Qgc2FtcGxlIHRoZSBsb2cgY2hvbGVzdGVyb2wgbGV2ZWxzIGFyZSBvbiBhdmVyYWdlIGxvd2VyIGZvciBmZW1hbGVzIHRoYW4gZm9yIG1hbGVzOyBiYXNlZCBvbiB0aGlzIHNhbXBsZSB3ZSBldmVuIHdvdWxkIHdyb25nbHkgY29uY2x1ZGUgdGhhdCB0aGUgY2hvbGVzdGVyb2wgbGV2ZWxzIGZvciBmZW1hbGVzIGFyZSBvbiBhdmVyYWdlIGxhcmdlciB0aGFuIHRob3NlIG9mIG1hbGVzLgoKLSBUaGlzIGltcGxpZXMgdGhhdCBvdXIgY29uY2x1c2lvbnMgYXJlIGFsc28gc3ViamVjdGVkIHRvIHVuY2VydGFpbnR5IGFuZCBtaWdodCBjaGFuZ2UgZnJvbSBzYW1wbGUgdG8gc2FtcGxlLgoKLSBTYW1wbGVzIGFzIHRoZSBvbmUgd2hlcmUgdGhlIGVmZmVjdCBzd2FwcyBhbmQgaXMgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudCwgaG93ZXZlciwgYXJlIHZlcnkgcmFyZS4KLSBUaGlzIGlzIGlsbHVzdHJhdGVkIHdpdGggdGhlIGNvZGUgYmVsb3csIHdoZXJlIHdlIHdpbGwgZHJhdyAyMDAwMCByZXBlYXRlZCBzYW1wbGVzIHdpdGggc2FtcGxlIHNpemUgMTAgZm9yIGZlbWFsZXMgYW5kIG1hbGVzIGZyb20gdGhlIE5IYW5lcyBzdHVkeS4KCmBgYHtyfQpuc2ltPC0yMDAwMApuU2FtcDwtMTAKcmVzPC1tYXRyaXgoMCxucm93PW5zaW0sbmNvbD0yKQpmZW08LW5oYW5lc1N1YiU+JWZpbHRlcihHZW5kZXI9PSJmZW1hbGUiKQptYWw8LW5oYW5lc1N1YiU+JWZpbHRlcihHZW5kZXI9PSJtYWxlIikKCmZvciAoaSBpbiAxOm5zaW0pCnsKIGZlbVNhbXA8LXNhbXBsZShmZW0kY2hvbExvZyxuU2FtcCkKIG1hbFNhbXA8LXNhbXBsZShtYWwkY2hvbExvZyxuU2FtcCkKCm1lYW5GZW08LW1lYW4oZmVtU2FtcCkKIG1lYW5NYWw8LW1lYW4obWFsU2FtcCkKIGRlbHRhPC1tZWFuRmVtLW1lYW5NYWwKIHNkRmVtPC1zZChmZW1TYW1wKQogc2RNYWw8LXNkKG1hbFNhbXApCiBzZUZlbTwtc2RGZW0vc3FydChuU2FtcCkKIHNlRmVtPC1zZEZlbS9zcXJ0KG5TYW1wKQogc2RQb29sPC1zcXJ0KChzZEZlbV4yKihuU2FtcC0xKSArIHNkTWFsXjIqKG5TYW1wLTEpKS8oMipuU2FtcC0yKSkKdHZhbHVlPC0oZGVsdGEpLyhzZFBvb2wqc3FydCgxL25TYW1wKzEvblNhbXApKQpwdmFsdWU8LXB0KGFicyh0dmFsdWUpLGxvd2VyLnRhaWwgPSBGQUxTRSxkZj0yKm5TYW1wLTIpKjIKIHJlc1tpLF08LWMoZGVsdGEscHZhbHVlKQp9CnN1bShyZXNbLDJdPDAuMDUmcmVzWywxXT4wKQpzdW0ocmVzWywyXT4wLjA1KQpzdW0ocmVzWywyXTwwLjA1JnJlc1ssMV08MCkKCnJlczwtcmVzICU+JSBhcy5kYXRhLmZyYW1lCm5hbWVzKHJlcykgPC0gYygiZGVsdGEiLCJwdmFsdWUiKQpyZXMgJT4lCiAgZ2dwbG90KGFlcyh4PWRlbHRhLHk9LWxvZzEwKHB2YWx1ZSksY29sb3I9cHZhbHVlPDAuMDUpKSArCiAgZ2VvbV9wb2ludCgpICsKICB4bGFiKCJBdmVyYWdlIGNob2xlc3Rlcm9sIGRpZmZlcmVuY2UiKSArCiAgeWxhYigiLSBsb2cxMChwdmFsdWUpIikgKwogIHNjYWxlX2NvbG9yX21hbnVhbCh2YWx1ZXM9YygiYmxhY2siLCJyZWQiKSkKCnJlcyAlPiUKICBnZ3Bsb3QoYWVzKHk9ZGVsdGEpKSArCiAgZ2VvbV9ib3hwbG90KCkgKwogIGdlb21fcG9pbnQoYWVzKHg9MCx5PWMobWVhbihmZW0kY2hvbExvZyktbWVhbihtYWwkY2hvbExvZykpLGNvbG9yPSJwb3AuIGRpZmYiKSkgKwogIHhsYWIoIiIpCmBgYAoKT25seSBpbiBgciBzdW0ocmVzWywyXTwwLjA1JnJlc1ssMV08MClgIG91dCBvZiAyMDAwMCBzYW1wbGVzIHdlIGNvbmNsdWRlIHRoYXQgdGhlIG1lYW4gY2hvbGVzdGVyb2wgbGV2ZWwgb2YgbWFsZXMgaXMgc2lnbmlmaWNhbnRseSBsb3dlciB0aGFuIGZvciBmZW1hbGVzLiBGb3IgdGhlIHJlbWFpbmluZyBzYW1wbGVzIHRoZSBjaG9sZXN0ZXJvbCBsZXZlbHMgZm9yIG1hbGVzIHdlcmUgb24gYXZlcmFnZSBzaWduaWZpY2FudGx5IGxvd2VyIHRoYW4gZm9yIGZlbWFsZXMgKGByIHN1bShyZXNbLDJdPDAuMDUmcmVzWywxXT4wKWAgc2FtcGxlcykgb3IgdGhlIGF2ZXJhZ2UgZGlmZmVyZW5jZSBpbiBjaG9sZXN0ZXJvbCBsZXZlbHMgd2VyZSBub3Qgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudCAoYHIgc3VtKHJlc1ssMl0+MC4wNSlgIHNhbXBsZXMpLiBUaGUgbGF0dGVyIGlzIGJlY2F1c2UgdGhlIHBvd2VyIGlzIHJhdGhlciBsb3cgdG8gZGV0ZWN0IHRoZSBkaWZmZXJlbmNlIHdpdGggMTAgc2FtcGxlcyBpbiBlYWNoIGdyb3VwLgoKLS0tCgojIyBBc3NpZ25tZW50CgoxLiBDb3B5IHRoZSBjb2RlIGNodW5rIHdpdGggdGhlIHNpbXVsYXRpb24gc3R1ZHkKMi4gQWRkIGl0IGhlcmUgYmVsb3cKMy4gTW9kaWZ5IHRoZSBzYW1wbGUgc2l6ZSB0byA1MC4KNC4gV2hhdCBkbyB5b3Ugb2JzZXJ2ZT8KCgotLS0KCiMjIENvbnRyb2wgb2YgZmFsc2UgcG9zaXRpdmVzCgpXYXQgaGFwcGVucyB3aGVuIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBib3RoIGdyb3Vwcz8KCi0gV2Ugd2lsbCBoYXZlIHRvIHNpbXVsYXRlIGV4cGVyaW1lbnRzIGZvciB3aGljaCB0aGUgY2hvbGVzdG9yb2wgbGV2ZWxzIGFyZSB0aGUgc2FtZSBmb3IgYm90aCBncm91cHMuCgoKLSBXZSBjYW4gZG8gdGhpcyBieSBzYW1wbGluZyBkYXRhIGZvciBib3RoIGdyb3VwcyBmcm9tIHRoZSBzdWJzZXQgb2Ygd29tZW4gaW4gdGhlIHN0dWR5LgoKLSBXZSBkbyB0aGlzIGFnYWluIGZvciAxMCBzdWJqZWN0cyBwZXIgZ3JvdXAKCgpgYGB7cn0KbnNpbTwtMjAwMDAKblNhbXA8LTEwCnJlczwtbWF0cml4KDAsbnJvdz1uc2ltLG5jb2w9MikKZmVtPC1uaGFuZXNTdWIlPiVmaWx0ZXIoR2VuZGVyPT0iZmVtYWxlIikKbWFsPC1uaGFuZXNTdWIlPiVmaWx0ZXIoR2VuZGVyPT0ibWFsZSIpCgpmb3IgKGkgaW4gMTpuc2ltKQp7CiBmZW1TYW1wPC1zYW1wbGUoZmVtJGNob2xMb2csblNhbXApCiBmZW0yU2FtcDwtc2FtcGxlKGZlbSRjaG9sTG9nLG5TYW1wKQoKbWVhbkZlbTwtbWVhbihmZW1TYW1wKQogbWVhbkZlbTI8LW1lYW4oZmVtMlNhbXApCiBkZWx0YTwtbWVhbkZlbS1tZWFuRmVtMgogc2RGZW08LXNkKGZlbVNhbXApCiBzZEZlbTI8LXNkKGZlbTJTYW1wKQogc2VGZW08LXNkRmVtL3NxcnQoblNhbXApCiBzZUZlbTwtc2RGZW0yL3NxcnQoblNhbXApCiBzZFBvb2w8LXNxcnQoKHNkRmVtXjIqKG5TYW1wLTEpICsgc2RGZW0yXjIqKG5TYW1wLTEpKS8oMipuU2FtcC0yKSkKdHZhbHVlPC0oZGVsdGEpLyhzZFBvb2wqc3FydCgxL25TYW1wKzEvblNhbXApKQpwdmFsdWU8LXB0KGFicyh0dmFsdWUpLGxvd2VyLnRhaWwgPSBGQUxTRSxkZj0yKm5TYW1wLTIpKjIKIHJlc1tpLF08LWMoZGVsdGEscHZhbHVlKQp9CnN1bShyZXNbLDJdPDAuMDUmcmVzWywxXT4wKQpzdW0ocmVzWywyXT49MC4wNSkKc3VtKHJlc1ssMl08MC4wNSZyZXNbLDFdPDApCgpyZXM8LXJlcyAlPiUgYXMuZGF0YS5mcmFtZQpuYW1lcyhyZXMpIDwtIGMoImRlbHRhIiwicHZhbHVlIikKcmVzICU+JQogIGdncGxvdChhZXMoeD1kZWx0YSx5PS1sb2cxMChwdmFsdWUpLGNvbG9yPXB2YWx1ZTwwLjA1KSkgKwogIGdlb21fcG9pbnQoKSArCiAgeGxhYigiQXZlcmFnZSBjaG9sZXN0ZXJvbCBkaWZmZXJlbmNlIikgKwogIHlsYWIoIi0gbG9nMTAocHZhbHVlKSIpICsKICBzY2FsZV9jb2xvcl9tYW51YWwodmFsdWVzPWMoImJsYWNrIiwicmVkIikpCgpyZXMgJT4lCiAgZ2dwbG90KGFlcyh5PWRlbHRhKSkgKwogIGdlb21fYm94cGxvdCgpICsKICBnZW9tX3BvaW50KGFlcyh4PTAseT0wLGNvbG9yPSJwb3AuIGRpZmYiKSkgKwogIHhsYWIoIiIpCmBgYAoKTm90ZSwgdGhhdCB0aGUgbnVtYmVyIG9mIGZhbHNlIHBvc2l0aXZlcyBhcmUgb24gYHIgc3VtKHJlc1ssMl08MC4wNSlgIG9uIGByIGZvcm1hdChuc2ltLGRpZ2l0cz01KWAgZXhwZXJpbWVudHMgYW5kIGFyZSBuaWNlbHkgY29udHJvbGxlZCBhdCB0aGUgNSUgbGV2ZWwuCgpXaGF0IGhhcHBlbnMgaWYgd2UgaW5jcmVhc2UgdGhlIHNhbXBsZSBzaXplIHRvIDUwIHN1YmplY3RzIHBlciBncm91cD8KCgotLS0KCiMgU2FsayBTdHVkeQoKLSBJbiAxOTE2LCB0aGUgVVMgZXhwZXJpZW5jZWQgdGhlIGZpcnN0IGxhcmdlIGVwaWRlbWljIG9mIHBvbGlvLgotIEpvaG4gU2FsayBkZXZlbG9wZWQgYSB2YWNjaW5lIHdpdGggcHJvbWlzaW5nIHJlc3VsdHMgaW4gdGhlIGxhYiBpbiB0aGUgZWFybHkgZmlmdGllcy4KLSBJbiAxOTU0LCB0aGUgTmF0aW9uYWwgRm91bmRhdGlvbgpmb3IgSW5mYW50aWxlIFBhcmFseXNpcyAoTkZJUCkgaGFzIHNldHVwIGEgbGFyZ2Ugc3R1ZHkgdG8gYXNzZXNzIHRoZSBlZmZlY3RpdmVuZXNzIG9mIHRoZSBTYWxrIHZhY2NpbmUuCi0gU3VwcG9zZSB0aGF0IHRoZSBORklQIHdvdWxkIGhhdmUgdmFjY2luYXRlZCBhIGxhcmdlIG51bWJlciBvZiBjaGlsZHJlbiBpbiAxOTU0IGFuZCB3b3VsZCBoYXZlIG9ic2VydmVkIHRoYXQgdGhlIHBvbGlvIGluY2lkZW5jZSBpbiAxOTU0IHdhcyBsb3dlciB0aGFuIGluIDE5NTMuIENvdWxkIHRoZXkgaGF2ZSBjb25jbHVkZWQgdGhhdCB0aGUgdmFjY2luZSB3YXMgZWZmZWN0aXZlPwoKLS0tCgojIyBORklQIFN0dWR5CiMjIyBEZXNpZ24KCi0gTGFyZ2Ugc2ltdWx0YW5lb3VzIHN0dWR5IHdpdGggY2FzZXMsIHZhY2NpbmF0ZWQgY2hpbGRyZW4sIGFuZCBjb250cm9scywgIG5vbi12YWNjaW5hdGVkIGNoaWxkcmVuLgotIEFsbCBzY2hvb2xzIGluIGRpc3RyaWN0cyB3aXRoIGhpZ2ggcG9saW8gaW5jaWRlbmNlCi0gQ2FzZXM6IGNoaWxkcmVuIHdpdGggY29uc2VudCBmb3IgdmFjY2luYXRpb24gZnJvbSBzZWNvbmQgZ3JhZGUgb2YgcHJpbWFyeSBzY2hvb2wuCi0gQ29udHJvbHM6IGNoaWxkcmVuIGZyb20gIGZpcnN0IGFuZCB0aGlyZCBncmFkZS4KCiMjIyBEYXRhCmBgYHtyfQpuZmlwPC1kYXRhLmZyYW1lKGdyb3VwPWMoImNhc2VzIiwiY29udHJvbCIsIm5vQ29uY2VudCIpLGdyYWRlPWMoImcyIiwiZzFnMyIsImcyIiksdmFjY2luPWMoInllcyIsIm5vIiwibm8iKSx0b3RhbD1jKDIyMTk5OCw3MjUxNzMsMTIzNjA1KSxwb2xpbz1jKDU0LDM5MSw1NikpCm5maXAkbm9Qb2xpbzwtbmZpcCR0b3RhbC1uZmlwJHBvbGlvCmtuaXRyOjprYWJsZShuZmlwKQpgYGAKCkNvbXBhcmUgcG9saW8gaW5jaWRlbmNlPwoKYGBge3IsIGVjaG89RkFMU0UsIGV2YWw9RkFMU0V9Cm5maXAkaW5jaWRlbmNlUE08LXJvdW5kKG5maXAkcG9saW8vbmZpcCR0b3RhbCoxZTYsMCkKa25pdHI6OmthYmxlKG5maXApCmBgYAoKV2hhdCBjYW4gd2UgY29uY2x1ZGU/CgotLS0KCiMjIENvbmZvdW5kaW5nCgoKYGBge3IsZWNobz1GQUxTRSwgZmlnLmFsaWduID0gImNlbnRlciIsb3V0LndpZHRoID0gJzUwJSd9CnBsb3QoYygwLDAsMSksYygtMiwyLDApLHBjaD1jKCJTIiwiViIsIlAiKSx4YXh0PSJub25lIix5YXh0PSJub25lIixheGVzPUZBTFNFLHhsYWI9IiIseWxhYj0iIixjZXg9NCx5bGltPWMoLTIuMiwyLjIpKQphcnJvd3MoeDA9MC4xLHgxPS45LHkwPTEuOCx5MT0wLjEsbHdkPTQpCmFycm93cyh4MD0wLjEseDE9LjkseTA9LTEuOCx5MT0tMC4yLGx3ZD00KQphcnJvd3MoeDA9MCx4MT0wLHkwPS0xLjQseTE9MS40LGx3ZD00KQpgYGAKCgotIFdlIG9ic2VydmUgYSBsb3dlciBwb2xpbyAoUCkgaW5jaWRlbmNlIGZvciBjaGlsZHJlbiBmb3Igd2hvIG5vIGNvbnNlbnQgd2FzIGdpdmVuIHRoYW4gZm9yIHRoZSBjaGlsZHJlbiBpbiB0aGUgY29udHJvbCBncm91cC4KCi0gQ29uc2VudCBmb3IgdmFjY2luYXRpb24gKFYpIHdhcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNvY2lvLWVjb25vbWljIHN0YXR1cyAoUykuCgotIENoaWxkcmVuIG9mIGxvd2VyIHNvY2lvLWVjb25vbWljIHN0YXR1cyB3ZXJlIG1vcmUgcmVzaXN0YW50IHRvIHRoZSBkaXNlYXNlLgoKLSBUaGUgZ3JvdXBzIG9mIGNhc2VzIGFuZCBjb250cm9scyBhcmUgbm90IGNvbXBhcmFibGU6CiAgICAtIGRpZmZlcmVuY2UgaW4gYWdlLAogICAgLSBkaWZmZXJlbmNlIGluIHNvY2lvLWVjb25vbWljIHN0YXR1cyBhbmQKICAgIC0gZGlmZmVyZW5jZSBpbiBzdXNjZXB0aWJsZSBmb3IgZGlzZWFzZS4KCi0tLQoKIyMgU2FsayBTdHVkeQoKIyMjIERlc2lnbgpBIG5ldyBzdHVkeSB3YXMgY29uZHVjdGVkOiBSYW5kb21pemVkIGRvdWJsZSBibGluZCBzdHVkeQoKICAtIENoaWxkcmVuIGFyZSBhc3NpZ25lZCBhdCByYW5kb20gdG8gdGhlIGNvbnRyb2wgb3IgY2FzZSB0cmVhdG1lbnQgYXJtIGFmdGVyIGNvbnNlbnQgd2FzIGdpdmVuIGJ5IHRoZSBwYXJlbnRzLgogIC0gQ29udHJvbDogdmFjY2luYXRpb24gd2l0aCBwbGFjZWJvCiAgLSBUcmVhdG1lbnQ6IHZhY2NpbmF0aW9uIHdpdGggdmFjY2luZQogIC0gZG91YmxlIGJsaW5kaW5nOgogICAgLSBwYXJlbnRzIGRpZCBub3Qga25vdyBpZiB0aGVpciBjaGlsZCB3YXMgdmFjY2luYXRlZCBvciByZWNlaXZlZCB0aGUgcGxhY2VibwogICAgLSBjYXJlLWdpdmVyL3Jlc2VhcmNoZXJzIGRpZCBub3Qga25vdyBpZiB0aGUgY2hpbGQgd2FzIHZhY2NpbmF0ZWQgIG9yIHJlY2VpdmVkIHBsYWNlYm8KCi0tLQoKIyMjIERhdGEKCmBgYHtyfQpzYWxrPC1kYXRhLmZyYW1lKGdyb3VwPWMoImNhc2VzIiwiY29udHJvbCIsIm5vQ29uY2VudCIpLHRyZWF0bWVudD1jKCJ2YWNjaW5lIiwicGxhY2VibyIsIm5vbmUiKSx0b3RhbD1jKDIwMDc0NSwKMjAxMjI5LCAzMzg3NzgpLHBvbGlvPWMoNTcsMTQyLDE1NykpCnNhbGskbm9Qb2xpbzwtc2FsayR0b3RhbC1zYWxrJHBvbGlvCnNhbGskaW5jaWRlbmNlUE08LXJvdW5kKHNhbGskcG9saW8vc2FsayR0b3RhbCoxZTYsMCkKa25pdHI6OmthYmxlKHNhbGspCmBgYAoKLSBXZSBvYnNlcnZlIGEgbXVjaCBsYXJnZXIgZWZmZWN0IG5vdyB0aGF0IHRoZSBjYXNlcyBhbmQgdGhlIGNvbnRyb2xzIGFyZSBjb21wYXJhYmxlLCBpbmNpZGVuY2Ugb2YgYHIgc2FsayRpbmNpZGVuY2VQTVsxXWAgIGFuZCBgciBzYWxrJGluY2lkZW5jZVBNWzJdYCBwZXIgbWlsbGlvbiwgcmVzcGVjdGl2ZWx5LgoKLSBUaGUgcG9saW8gaW5jaWRlbmNlIGZvciBjaGlsZHJlbiB3aXRoIG5vIGNvbnNlbnQgcmVtYWlucyBzaW1pbGFyLCBgciBuZmlwJGluY2lkZW5jZVBNWzNdYCBhbmQgYHIgc2FsayRpbmNpZGVuY2VQTVszXWAgcGVyIG1pbGxpb24gaW4gdGhlIE5GSVAgYW5kIFNhbGsgc3R1ZHksIHJlc3BlY3RpdmVseS4KCi0tLQoKIyBSb2xlIG9mIFN0YXRpc3RpY3MgaW4gdGhlIExpZmUgU2NpZW5jZXMKCi0gV2UgaGF2ZSBzZWVuIHRoYXQKICAgIC0gaXQgaXMgaW1wb3J0YW50IHRvIGNhcmVmdWxseSBzcGVjaWZ5IHRoZSBzY29wZSBvZiB0aGUgc3R1ZHkgYmVmb3JlIHRoZSBleHBlcmltZW50LAogICAgLSB0aGUgc2FtcGxlIHNpemUgbWF0dGVycywKICAgIC0gd2Ugc2hvdWxkIGJlIGF3YXJlIG9mIGNvbmZvdW5kaW5nLCBhbmQKICAgIC0gYSBwcm9wZXIgY29udHJvbCBpcyByZXF1aXJlZC4KCiRccmlnaHRhcnJvdyQgR29vZCBleHBlcmltZW50YWwgZGVzaWduIGlzIGNydWNpYWwhCgotIFdlIGFsc28gb2JzZXJ2ZWQgdGhhdCB0aGVyZSBpcyB2YXJpYWJpbGl0eSBpbiB0aGUgcG9wdWxhdGlvbiBhbmQgYmVjYXVzZSB3ZSBjYW4gb25seSBzYW1wbGUgYSBzbWFsbCBwYXJ0IG9mIHRoZSBwb3B1bGF0aW9uIG91ciByZXN1bHRzIGFuZCBjb25jbHVzaW9ucyBhcmUgc3ViamVjdGVkIHRvIHVuY2VydGFpbnR5LgoKCgoKLSBTdGF0aXN0aWNzIGlzIHRoZSBzY2llbmNlIG9uCiAgICAxLiBjb2xsZWN0aW5nIChleHBlcmltZW50YWwgZGVzaWduKSwKICAgIDIuIGV4cGxvcmluZyAoZGF0YSBleHBsb3JhdGlvbikgYW5kCiAgICAzLiBsZWFybmluZyBmcm9tIGRhdGEgYW5kIHRvIGdlbmVyYWxpemUgd2hhdCB3ZSBvYnNlcnZlIGluIHRoZSBzYW1wbGUgdG93YXJkcyB0aGUgcG9wdWxhdGlvbiB3aGlsZSBxdWFudGlmeWluZywgY29udHJvbGxpbmcgYW5kIHJlcG9ydGluZyB2YXJpYWJpbGl0eSBhbmQgdW5jZXJ0YWludHkgKHN0YXRpc3RpY2FsIG1vZGVsbGluZyBhbmQgc3RhdGlzdGljYWwgaW5mZXJlbmNlKS4KCi0gVGhlcmVmb3JlLCBzdGF0aXN0aWNzIHBsYXlzIGFuIGltcG9ydGFudCByb2xlIGluIGFsbW9zdCBhbGwgc2NpZW5jZXMgKGUuZy4gY29sdW1uICJwb2ludHMgb2Ygc2lnbmlmaWNhbmNlIiBpbiBOYXR1cmUgTWV0aG9kcy4gaHR0cDovL2Jsb2dzLm5hdHVyZS5jb20vbWV0aGFnb3JhLzIwMTMvMDgvZ2l2aW5nX3N0YXRpc3RpY3NfdGhlX2F0dGVudGlvbl9pdF9kZXNlcnZlcy5odG1sKQoKLS0tCgpgYGB7ciBwb3AyU2FtcDJQb3AsIG91dC53aWR0aD0nODAlJyxmaWcuYXNwPS44LCBmaWcuYWxpZ249J2NlbnRlcicsZWNobz1GQUxTRX0KaWYgKCJwaSIlaW4lbHMoKSkgcm0oInBpIikKa29wdm9ldGVyPC1mdW5jdGlvbih4LHksYW5nbGU9MCxsPS4yLGNleC5kb3Q9LjUscGNoPTE5LGNvbD0iYmxhY2siKQp7CmFuZ2xlPWFuZ2xlLzE4MCpwaQpwb2ludHMoeCx5LGNleD1jZXguZG90LHBjaD1wY2gsY29sPWNvbCkKbGluZXMoYyh4LHgrbCpjb3MoLXBpLzIrYW5nbGUpKSxjKHkseStsKnNpbigtcGkvMithbmdsZSkpLGNvbD1jb2wpCmxpbmVzKGMoeCtsLzIqY29zKC1waS8yK2FuZ2xlKSx4K2wvMipjb3MoLXBpLzIrYW5nbGUpK2wvNCpjb3MoYW5nbGUpKSxjKHkrbC8yKnNpbigtcGkvMithbmdsZSkseStsLzIqc2luKC1waS8yK2FuZ2xlKStsLzQqc2luKGFuZ2xlKSksY29sPWNvbCkKbGluZXMoYyh4K2wvMipjb3MoLXBpLzIrYW5nbGUpLHgrbC8yKmNvcygtcGkvMithbmdsZSkrbC80KmNvcyhwaSthbmdsZSkpLGMoeStsLzIqc2luKC1waS8yK2FuZ2xlKSx5K2wvMipzaW4oLXBpLzIrYW5nbGUpK2wvNCpzaW4ocGkrYW5nbGUpKSxjb2w9Y29sKQpsaW5lcyhjKHgrbCpjb3MoLXBpLzIrYW5nbGUpLHgrbCpjb3MoLXBpLzIrYW5nbGUpK2wvMipjb3MoLXBpLzIrcGkvNCthbmdsZSkpLGMoeStsKnNpbigtcGkvMithbmdsZSkseStsKnNpbigtcGkvMithbmdsZSkrbC8yKnNpbigtcGkvMitwaS80K2FuZ2xlKSksY29sPWNvbCkKbGluZXMoYyh4K2wqY29zKC1waS8yK2FuZ2xlKSx4K2wqY29zKC1waS8yK2FuZ2xlKStsLzIqY29zKC1waS8yLXBpLzQrYW5nbGUpKSxjKHkrbCpzaW4oLXBpLzIrYW5nbGUpLHkrbCpzaW4oLXBpLzIrYW5nbGUpK2wvMipzaW4oLXBpLzItcGkvNCthbmdsZSkpLGNvbD1jb2wpCn0KCnBhcihtYXI9YygwLDAsMCwwKSxtYWk9YygwLDAsMCwwKSkKcGxvdCgwLDAseGxhYj0iIix5bGFiPSIiLHhsaW09YygwLDEwKSx5bGltPWMoMCwxMCksY29sPTAseGF4dD0ibm9uZSIseWF4dD0ibm9uZSIsYXhlcz1GQUxTRSkKcmVjdCgwLDYsMTAsMTAsYm9yZGVyPSJyZWQiLGx3ZD0yKQp0ZXh0KC41LDgsInBvcHVsYXRpb24iLHNydD05MCxjb2w9InJlZCIsY2V4PTIpCnN5bWJvbHMgKDMsIDgsIGNpcmNsZXM9MS41LCBjb2w9InJlZCIsYWRkPVRSVUUsZmc9InJlZCIsaW5jaGVzPUZBTFNFLGx3ZD0yKQpzZXQuc2VlZCgzMzApCmdyaWQ9c2VxKDAsMS4zLC4wMSkKCmZvciAoaSBpbiAxOjUwKQp7CglhbmdsZTE9cnVuaWYobj0xLG1pbj0wLG1heD0zNjApCglhbmdsZTI9cnVuaWYobj0xLG1pbj0wLG1heD0zNjApCglyYWRpdXM9c2FtcGxlKGdyaWQscHJvYj1ncmlkXjIqcGkvc3VtKGdyaWReMipwaSksc2l6ZT0xKQoJa29wdm9ldGVyKDMrcmFkaXVzKmNvcyhhbmdsZTEvMTgwKnBpKSw4K3JhZGl1cypzaW4oYW5nbGUxLzE4MCpwaSksYW5nbGU9YW5nbGUyKQp9CnRleHQoNy41LDgsImNob2xlc3Rlcm9sIGluIHBvcHVsYXRpb24iLGNvbD0icmVkIixjZXg9MS4yKQoKcmVjdCgwLDAsMTAsNCxib3JkZXI9ImJsdWUiLGx3ZD0yKQp0ZXh0KC41LDIsInNhbXBsZSIsc3J0PTkwLGNvbD0iYmx1ZSIsY2V4PTIpCnN5bWJvbHMgKDMsIDIsIGNpcmNsZXM9MS41LCBjb2w9InJlZCIsYWRkPVRSVUUsZmc9ImJsdWUiLGluY2hlcz1GQUxTRSxsd2Q9MikKZm9yIChpIGluIDA6MikKCWZvciAoaiBpbiAwOjQpCnsKCglrb3B2b2V0ZXIoMi4xK2oqKDMuOS0yLjEpLzQsMS4xK2kpCn0KdGV4dCg3LjUsMiwiY2hvbGVzdGVyb2wgaW4gc2FtcGxlIixjb2w9ImJsdWUiLGNleD0xLjIpCgphcnJvd3MoMyw1LjksMyw0LjEsY29sPSJibGFjayIsbHdkPTMpCmFycm93cyg3LDQuMSw3LDUuOSxjb2w9ImJsYWNrIixsd2Q9MykKdGV4dCgxLjUsNSwiRVhQLiBERVNJR04gKDEpIixjb2w9ImJsYWNrIixjZXg9MS4yKQp0ZXh0KDguNSw1LCJFU1RJTUFUSU9OICZcbklORkVSRU5DRSAoMykiLGNvbD0iYmxhY2siLGNleD0xLjIpCnRleHQoNy41LC41LCJEQVRBIEVYUExPUkFUSU9OICZcbkRFU0NSSVBUSVZFIFNUQVRJU1RJQ1MgKDIpIixjb2w9ImJsYWNrIixjZXg9MS4yKQpgYGAK</div>
<div class="footer">
    <hr>
    This work is licensed under the <a href= "https://creativecommons.org/licenses/by-nc-sa/4.0">
    CC BY-NC-SA 4.0</a> licence.
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("01-intro.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
