<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lieven Clement and Jeroen Gilis" />


<title>Exercise 7.1: ANOVA on the lettuce dataset - solution</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PSLS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-chalkboard-teacher"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-intro.html">1. Introduction</a>
    </li>
    <li>
      <a href="02-concepts.html">2. Concepts</a>
    </li>
    <li>
      <a href="03-experimentalDesign.html">3. Experimental Design I</a>
    </li>
    <li>
      <a href="04-dataExploration.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05-statisticalInference.html">5.1 Statistical Inference 1</a>
    </li>
    <li>
      <a href="05-statisticalInference-twosampleT.html">5.2 Statistical Inference 2</a>
    </li>
    <li>
      <a href="06-linearRegression.html">6. Linear Regression</a>
    </li>
    <li>
      <a href="07-Anova.html">7. Analysis of Variance</a>
    </li>
    <li>
      <a href="08-MultipleRegression.html">8. Multiple Regression</a>
    </li>
    <li>
      <a href="08-MultipleRegression-SpecificDesigns.html">8.2 Multiple Regression: Factorial Designs</a>
    </li>
    <li>
      <a href="08-experimentalDesignII.html">8.3. Experimental Design II</a>
    </li>
    <li>
      <a href="08-experimentalDesignIII.html">8.4. Experimental Design II</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-WilcoxonMannWithney.html">9.1. Nonparametric Statistics 1</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-KruskalWallis.html">9.2. Nonparametric Statistics 2</a>
    </li>
    <li>
      <a href="10-categoricalDataAnalysis.html">10. Categorical Data Analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="04_exercises.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05_exercises.html">5. Statistical inference</a>
    </li>
    <li>
      <a href="06_exercises.html">6. Simple linear regression</a>
    </li>
    <li>
      <a href="07_exercises.html">7. ANOVA</a>
    </li>
    <li>
      <a href="08_exercises.html">8. Multiple linear regression</a>
    </li>
    <li>
      <a href="09_exercises.html">9. Non-parametric statistics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statOmics/PSLS">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="http://statomics.github.io/">statOmics</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exercise 7.1: ANOVA on the lettuce dataset - solution</h1>
<h4 class="author">Lieven Clement and Jeroen Gilis</h4>
<h4 class="date">statOmics, Ghent University (<a href="https://statomics.github.io" class="uri">https://statomics.github.io</a>)</h4>

</div>


<div id="background" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Background</h1>
<p>In agriculture, it is important to have a high yield of crops. For lettuce plants, plants with many leaves are known to be preferred by the consumers.</p>
<p>One way to increase the number of leaves (or better, total leaf weight) is by using a fertilizer. Recently, there has been a tendency to rely more on natural fertilizers, such as compost. Near Ghent, the institute of research for agriculture and fishery is testing new, natural fertilization methods. One of these new fertilizers is called biochar. Biochar is a residual product from pyrolysis, a process in which biomass is burned under specific conditions (such as high pressure) in order to produce energy. Biochar is similar to charcoal, but has some very useful properties, such as retaining water in the soil. It also has a positive influence on the soil microbiome.</p>
</div>
<div id="the-lettuce-dataset" class="section level1" number="2">
<h1><span class="header-section-number">2</span> The lettuce dataset</h1>
<p>The researchers hypothesize that biochar, compost and a combination of both biochar and compost can have a different influence on the growth of lettuce plants. To this end, they grew up lettuce plants in a greenhouse. The pots were filled with one of four soil types;</p>
<ol style="list-style-type: decimal">
<li>Soil only (control)</li>
<li>Soil supplemented with biochar (refoak)</li>
<li>Soil supplemented with compost (compost)</li>
<li>Soil supplemented with both biochar and compost (cobc)</li>
</ol>
<p>The dataset <code>freshweight_lettuce.txt</code> contains the freshweight (in grams) for 28 lettuce plants (7 per condition). The researchers want to use an ANOVA test to assess if the treatments have a different effect on the growth of lettuce plants. If so, they will use a post-hoc test (Tuckey test) to discover which specific treatments have an effect.</p>
<p>Load the required libraries</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code></pre></div>
</div>
<div id="data-import" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Data import</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>lettuce <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/statOmics/PSLS21/data/freshweight_lettuce.txt&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Take a glimpse at the data</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(lettuce)</span></code></pre></div>
<pre><code>## Rows: 28
## Columns: 3
## $ id          &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,…
## $ treatment   &lt;chr&gt; &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;co…
## $ freshweight &lt;dbl&gt; 38, 34, 41, 43, 43, 29, 38, 59, 64, 57, 56, 50, 64, 62, 38…</code></pre>
<p>First, we will set the <code>treatment</code> variable to a factor</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">## treatment to factor</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>lettuce <span class="ot">&lt;-</span> lettuce <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">as.factor</span>(treatment))</span></code></pre></div>
</div>
<div id="data-exploration" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Data exploration</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Count the number of observations per treatment</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>lettuce <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(treatment)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["treatment"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"cobc","2":"7"},{"1":"compost","2":"7"},{"1":"control","2":"7"},{"1":"refoak","2":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Now let’s make a boxplot displaying the freshweight of each treatment condition:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lettuce <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>treatment,<span class="at">y=</span>freshweight,<span class="at">fill=</span>treatment)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;RdGy&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Boxplot of the freshweigth for each treatment condition&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;freshweight (gram)&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(<span class="at">fun=</span>mean, <span class="at">geom=</span><span class="st">&quot;point&quot;</span>, <span class="at">shape=</span><span class="dv">5</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Note that there are no clear outliers in the data. We can see that the mean freshweight is very comparable between the control and refoak treatments and between the compost and cobc treatments. We can also see that the mean freshweight is much higher in the cobc and control treatments than in the control and refoak treatments. But is this observed difference significant?</p>
</div>
<div id="anova" class="section level1" number="5">
<h1><span class="header-section-number">5</span> ANOVA</h1>
<p>To study if the observed difference between the average freshweight values of the different treatment groups are significant, we may perform an ANOVA.</p>
<div id="formulate-null-and-alternative-hypotheses" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Formulate null and alternative hypotheses</h2>
<p>The null hypothesis of ANOVA states that: <span class="math inline">\(H0\)</span>: The mean freshweigth is equal between the different treatment groups.</p>
<p>The alternative hypothesis of ANOVA states that: <span class="math inline">\(HA\)</span>: The mean freshweigth for at least one treatment group is different from the mean freshweight in at least one other treatment group.</p>
</div>
<div id="checking-the-assumptions-for-anova" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Checking the assumptions for ANOVA</h2>
<p>Before we may proceed with the analysis, we must make sure that all assumptions for ANOVA are met. ANOVA has three assumptions:</p>
<ol style="list-style-type: decimal">
<li>The observations are independent of each other (in all groups)</li>
<li>The data (freshweigth) must be normally distributed (in all groups)</li>
<li>The variability within all groups is similar</li>
</ol>
<div id="assumption-of-independence" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Assumption of independence</h3>
<p>The first assumption is met; we started of with 28 lettuce plants and we randomly submitted them to one of four treatment conditions. There is no reason to believe that the plants display systematic differences between treatment groups, other than the actual treatment.</p>
</div>
<div id="assumption-of-normality" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Assumption of normality</h3>
<p>For the second assumption, we must check normality in each group.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get qqplots for each individual treatment group</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">levels</span>(lettuce<span class="sc">$</span>treatment)){</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qqPlot</span>(<span class="fu">subset</span>(lettuce,treatment <span class="sc">==</span> i)<span class="sc">$</span>freshweight, <span class="at">main =</span> i, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>According to these plots, the normality assumption is met for each group. However, we need to be careful with relying on these plots, as they are only based on 7 observations per group. Indeed, checking the assumptions of normality (and equal variances) on such small datasets can be tricky. For instance, when sampling 7 datapoints from data that has an underlying distribution that is not normally distributed, the small sample may be normally distributed by chance. Equivalently, when sampling 7 datapoints from a normal distribution, the small sample may appear not normally distributed. We can show this as follows.</p>
<p>Simulate from uniform distribution:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>),<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="fl">0.2</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">7</span>) <span class="do">## sample 7 observations from a uniform distribution</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qqPlot</span>(x,<span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Even though the data originates from a uniform distribution, several samples meet the normality requirements by chance.</p>
<p>Sample from normal distribution:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>),<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="fl">0.2</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">7</span>) <span class="do">## sample 7 sobservations from a normal distribution</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qqPlot</span>(x,<span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Even though the data originates from a normal distribution, several samples do not meet the normality requirements by chance.</p>
<p>Alternatively, we may generate a qq-plot of the residuals of a linear model. These residuals should be normally distributed if the data for each treatment condition is normally distributed.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(freshweight<span class="sc">~</span>treatment, lettuce)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fit, <span class="at">which =</span> <span class="dv">2</span>,<span class="at">col =</span> fit<span class="sc">$</span>model<span class="sc">$</span>treatment)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&#39;bottomright&#39;</span>, <span class="fu">levels</span>(fit<span class="sc">$</span>model<span class="sc">$</span>treatment), <span class="at">text.col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>The data seems to be approximately normally distributed, with a slight left skew.</p>
</div>
<div id="assumption-of-equal-variances" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Assumption of equal variances</h3>
<p>We can check the assumption of equal variance with a boxplot:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>lettuce <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>treatment,<span class="at">y=</span>freshweight,<span class="at">fill=</span>treatment)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;RdGy&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Boxplot of the freshweigth for each treatment condition&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;freshweight (gram)&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun=</span>mean, <span class="at">geom=</span><span class="st">&quot;point&quot;</span>, <span class="at">shape=</span><span class="dv">5</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="07_1_lettuce_sol_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>As a measure of variability, we may take the height of each box. This is the interval between the 25% and 75% quantile. Here we can see that this interval, as well as the length of the whiskers, is approximately equal for most groups. However, the variability of cobc does seem to be quite a bit larger than the variability in the refoak group.</p>
<p>With this little observations per group, it is very difficult to reliably assess the assumptions of normality and equal variances. In this tutorial, we will assume that all assumptions are met. <strong>In a later tutorial, “Kruskal_lettuce_plants.Rmd”,</strong> <strong>we will see would happen if we decide to reject these assumptions.</strong></p>
</div>
</div>
<div id="modeling" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Modeling</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(freshweight<span class="sc">~</span>treatment, <span class="at">data=</span>lettuce)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>fit_anova <span class="ot">&lt;-</span> <span class="fu">anova</span>(fit)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>fit_anova</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Sum Sq"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Mean Sq"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"2732.1429","3":"910.71429","4":"34.01512","5":"8.307623e-09","_rn_":"treatment"},{"1":"24","2":"642.5714","3":"26.77381","4":"NA","5":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The p-value of the ANOVA analysis is extremely significant (p-value = 8.308e-09), so we reject the null hypothesis that the mean freshweigth is equal for the different treatment groups. We can say that the mean freshweigth is significantly different between at least two treatment groups on the 5% significance level.</p>
<p>Based on this analysis, we do not yet know between which particular groups there is a significant difference. To assess this, we will perfrom the Tuckey post-hoc analysis.</p>
</div>
<div id="post-hoc-analysis" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Post-hoc analysis</h2>
<p>We will perform a post-hoc analysis to look at the difference in fresweigth between each pairwise comparison of treatment groups. Importantly, with this strategy, the p-values will be automatically adjusted for multiple testing.</p>
<p>The null hypothesis for each pairwise test is that <span class="math inline">\(H0\)</span> there is no difference in the average freshweight values between both groups.</p>
<p>The alternative hypothesis for each pairwise test states that <span class="math inline">\(HA\)</span> there is indeed a difference in the average freshweight values between both groups.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multcomp, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>mcp <span class="ot">&lt;-</span> <span class="fu">glht</span>(fit, <span class="at">linfct =</span> <span class="fu">mcp</span>(<span class="at">treatment =</span> <span class="st">&quot;Tukey&quot;</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>mcp_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(mcp)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>mcp_summary</span></code></pre></div>
<pre><code>## 
##   Simultaneous Tests for General Linear Hypotheses
## 
## Multiple Comparisons of Means: Tukey Contrasts
## 
## 
## Fit: lm(formula = freshweight ~ treatment, data = lettuce)
## 
## Linear Hypotheses:
##                        Estimate Std. Error t value Pr(&gt;|t|)    
## compost - cobc == 0       4.714      2.766   1.704    0.343    
## control - cobc == 0     -16.143      2.766  -5.837   &lt;0.001 ***
## refoak - cobc == 0      -18.000      2.766  -6.508   &lt;0.001 ***
## control - compost == 0  -20.857      2.766  -7.541   &lt;0.001 ***
## refoak - compost == 0   -22.714      2.766  -8.213   &lt;0.001 ***
## refoak - control == 0    -1.857      2.766  -0.671    0.907    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## (Adjusted p values reported -- single-step method)</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#We will also calculate the confidence interval on the mean differences.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>mcp_confint <span class="ot">&lt;-</span> <span class="fu">confint</span>(mcp)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>mcp_confint</span></code></pre></div>
<pre><code>## 
##   Simultaneous Confidence Intervals
## 
## Multiple Comparisons of Means: Tukey Contrasts
## 
## 
## Fit: lm(formula = freshweight ~ treatment, data = lettuce)
## 
## Quantile = 2.7597
## 95% family-wise confidence level
##  
## 
## Linear Hypotheses:
##                        Estimate lwr      upr     
## compost - cobc == 0      4.7143  -2.9185  12.3471
## control - cobc == 0    -16.1429 -23.7757  -8.5101
## refoak - cobc == 0     -18.0000 -25.6328 -10.3672
## control - compost == 0 -20.8571 -28.4899 -13.2243
## refoak - compost == 0  -22.7143 -30.3471 -15.0815
## refoak - control == 0   -1.8571  -9.4899   5.7757</code></pre>
</div>
<div id="conclusion" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Conclusion</h2>
<p>We have found an extremely significant dependence (p-value = 8.308^{-9}), between the mean freshweigth and the treatment condition on the global 5% significance level.</p>
<p>The mean freshweight of plants grown with compost is extremely significantly higher as compared to in control plants (Tuckey test, adjusted p-value &lt; 0.0001, 20.9g higher, 95% CI: [13.2; 28.5]) and as compared to refoak plants (Tuckey test, adjusted p-value &lt; 0.0001, 22.7g higher, 95% CI: [15.1; 30.3]).</p>
<p>The mean freshweight of plants grown with cobc is extremely significantly higher as compared to in control plants (Tuckey test, adjusted p-value &lt; 0.0001, 16.1g higher, 95% CI: [8.5; 23.8]) and as compared to refoak plants (Tuckey test, adjusted p-value &lt; 0.0001, 18.0g higher, 95% CI: [10.4; 25.6]).</p>
<p>We do not find enough evidence to claim a difference in mean freshweight between refoak and control plants or between cobc and compost plants.</p>
<p>We may conclude that supplementing soil with compost or with both compost and biochar will have a positive effect on the freshweigth of lettuce plants.</p>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiRXhlcmNpc2UgNy4xOiBBTk9WQSBvbiB0aGUgbGV0dHVjZSBkYXRhc2V0IC0gc29sdXRpb24iCmF1dGhvcjogIkxpZXZlbiBDbGVtZW50IGFuZCBKZXJvZW4gR2lsaXMiCmRhdGU6ICJzdGF0T21pY3MsIEdoZW50IFVuaXZlcnNpdHkgKGh0dHBzOi8vc3RhdG9taWNzLmdpdGh1Yi5pbykiCm91dHB1dDoKICAgIGh0bWxfZG9jdW1lbnQ6CiAgICAgIGNvZGVfZG93bmxvYWQ6IHRydWUKICAgICAgdGhlbWU6IGNvc21vCiAgICAgIHRvYzogdHJ1ZQogICAgICB0b2NfZmxvYXQ6IHRydWUKICAgICAgaGlnaGxpZ2h0OiB0YW5nbwogICAgICBudW1iZXJfc2VjdGlvbnM6IHRydWUKLS0tCgojIEJhY2tncm91bmQKCkluIGFncmljdWx0dXJlLCBpdCBpcyBpbXBvcnRhbnQgdG8gaGF2ZSBhIGhpZ2ggeWllbGQgb2YgY3JvcHMuIEZvciBsZXR0dWNlCnBsYW50cywgcGxhbnRzIHdpdGggbWFueSBsZWF2ZXMgYXJlIGtub3duIHRvIGJlIHByZWZlcnJlZCBieSB0aGUgY29uc3VtZXJzLgoKT25lIHdheSB0byBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIGxlYXZlcyAob3IgYmV0dGVyLCB0b3RhbApsZWFmIHdlaWdodCkgaXMgYnkgdXNpbmcgYSBmZXJ0aWxpemVyLiBSZWNlbnRseSwgdGhlcmUgaGFzIGJlZW4KYSB0ZW5kZW5jeSB0byByZWx5IG1vcmUgb24gbmF0dXJhbCBmZXJ0aWxpemVycywgc3VjaCBhcyBjb21wb3N0LgpOZWFyIEdoZW50LCB0aGUgaW5zdGl0dXRlIG9mIHJlc2VhcmNoIGZvciBhZ3JpY3VsdHVyZSBhbmQgZmlzaGVyeSBpcyB0ZXN0aW5nCm5ldywgbmF0dXJhbCBmZXJ0aWxpemF0aW9uIG1ldGhvZHMuIE9uZSBvZiB0aGVzZSBuZXcgZmVydGlsaXplcnMgaXMgY2FsbGVkCmJpb2NoYXIuIEJpb2NoYXIgaXMgYSByZXNpZHVhbCBwcm9kdWN0IGZyb20gcHlyb2x5c2lzLCBhIHByb2Nlc3MgaW4gd2hpY2gKYmlvbWFzcyBpcyBidXJuZWQgdW5kZXIgc3BlY2lmaWMgY29uZGl0aW9ucyAoc3VjaCBhcyBoaWdoIHByZXNzdXJlKSBpbiBvcmRlcgp0byBwcm9kdWNlIGVuZXJneS4gQmlvY2hhciBpcyBzaW1pbGFyIHRvIGNoYXJjb2FsLCBidXQgaGFzIHNvbWUgdmVyeSB1c2VmdWwKcHJvcGVydGllcywgc3VjaCBhcyByZXRhaW5pbmcgd2F0ZXIgaW4gdGhlIHNvaWwuIEl0IGFsc28gaGFzIGEgcG9zaXRpdmUKaW5mbHVlbmNlIG9uIHRoZSBzb2lsIG1pY3JvYmlvbWUuCgojIFRoZSBsZXR0dWNlIGRhdGFzZXQKClRoZSByZXNlYXJjaGVycyBoeXBvdGhlc2l6ZSB0aGF0IGJpb2NoYXIsIGNvbXBvc3QgYW5kCmEgY29tYmluYXRpb24gb2YgYm90aCBiaW9jaGFyIGFuZCBjb21wb3N0IGNhbiBoYXZlIGEgZGlmZmVyZW50IGluZmx1ZW5jZQpvbiB0aGUgZ3Jvd3RoIG9mIGxldHR1Y2UgcGxhbnRzLiBUbyB0aGlzIGVuZCwgdGhleSBncmV3IHVwCmxldHR1Y2UgcGxhbnRzIGluIGEgZ3JlZW5ob3VzZS4gVGhlIHBvdHMgd2VyZSBmaWxsZWQgd2l0aApvbmUgb2YgZm91ciBzb2lsIHR5cGVzOwoKMS4gU29pbCBvbmx5IChjb250cm9sKQoyLiBTb2lsIHN1cHBsZW1lbnRlZCB3aXRoIGJpb2NoYXIgKHJlZm9haykKMy4gU29pbCBzdXBwbGVtZW50ZWQgd2l0aCBjb21wb3N0IChjb21wb3N0KQo0LiBTb2lsIHN1cHBsZW1lbnRlZCB3aXRoIGJvdGggYmlvY2hhciBhbmQgY29tcG9zdCAoY29iYykKClRoZSBkYXRhc2V0IGBmcmVzaHdlaWdodF9sZXR0dWNlLnR4dGAgY29udGFpbnMgdGhlIGZyZXNod2VpZ2h0CihpbiBncmFtcykgZm9yIDI4IGxldHR1Y2UgcGxhbnRzICg3IHBlciBjb25kaXRpb24pLiBUaGUgcmVzZWFyY2hlcnMKd2FudCB0byB1c2UgYW4gQU5PVkEgdGVzdCB0byBhc3Nlc3MgaWYgdGhlIHRyZWF0bWVudHMgaGF2ZSBhIGRpZmZlcmVudCBlZmZlY3QKb24gdGhlIGdyb3d0aCBvZiBsZXR0dWNlIHBsYW50cy4gSWYgc28sIHRoZXkgd2lsbCB1c2UgYSBwb3N0LWhvYyB0ZXN0CihUdWNrZXkgdGVzdCkgdG8gZGlzY292ZXIgd2hpY2ggc3BlY2lmaWMgdHJlYXRtZW50cyBoYXZlIGFuIGVmZmVjdC4KCkxvYWQgdGhlIHJlcXVpcmVkIGxpYnJhcmllcwoKYGBge3IsIG1lc3NhZ2UgPSBGQUxTRSwgd2FybmluZz1GQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkoY2FyKQpgYGAKCiMgRGF0YSBpbXBvcnQKCmBgYHtyLG1lc3NhZ2U9RkFMU0V9CmxldHR1Y2UgPC0gcmVhZF9jc3YoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGF0T21pY3MvUFNMUzIxL2RhdGEvZnJlc2h3ZWlnaHRfbGV0dHVjZS50eHQiKQojVGFrZSBhIGdsaW1wc2UgYXQgdGhlIGRhdGEKZ2xpbXBzZShsZXR0dWNlKQpgYGAKCkZpcnN0LCB3ZSB3aWxsIHNldCB0aGUgYHRyZWF0bWVudGAgdmFyaWFibGUgdG8gYSBmYWN0b3IKCmBgYHtyfQojIyB0cmVhdG1lbnQgdG8gZmFjdG9yCmxldHR1Y2UgPC0gbGV0dHVjZSAlPiUKICBtdXRhdGUodHJlYXRtZW50ID0gYXMuZmFjdG9yKHRyZWF0bWVudCkpCmBgYAoKIyBEYXRhIGV4cGxvcmF0aW9uCgpgYGB7cn0KIyMgQ291bnQgdGhlIG51bWJlciBvZiBvYnNlcnZhdGlvbnMgcGVyIHRyZWF0bWVudApsZXR0dWNlICU+JQogIGNvdW50KHRyZWF0bWVudCkKYGBgCgpOb3cgbGV0J3MgbWFrZSBhIGJveHBsb3QgZGlzcGxheWluZyB0aGUgZnJlc2h3ZWlnaHQgb2YgZWFjaCB0cmVhdG1lbnQgY29uZGl0aW9uOgoKYGBge3J9CmxldHR1Y2UgJT4lCiAgZ2dwbG90KGFlcyh4PXRyZWF0bWVudCx5PWZyZXNod2VpZ2h0LGZpbGw9dHJlYXRtZW50KSkgKwogICAgc2NhbGVfZmlsbF9icmV3ZXIocGFsZXR0ZT0iUmRHeSIpICsKICAgIHRoZW1lX2J3KCkgKwogICAgZ2VvbV9ib3hwbG90KG91dGxpZXIuc2hhcGU9TkEpICsKICAgIGdlb21faml0dGVyKHdpZHRoID0gMC4yKSArCiAgICBnZ3RpdGxlKCJCb3hwbG90IG9mIHRoZSBmcmVzaHdlaWd0aCBmb3IgZWFjaCB0cmVhdG1lbnQgY29uZGl0aW9uIikgKwogICAgeWxhYigiZnJlc2h3ZWlnaHQgKGdyYW0pIikgKwogICAgc3RhdF9zdW1tYXJ5KGZ1bj1tZWFuLCBnZW9tPSJwb2ludCIsIHNoYXBlPTUsIHNpemU9MywgY29sb3I9ImJsYWNrIiwgZmlsbD0iYmxhY2siKQpgYGAKCk5vdGUgdGhhdCB0aGVyZSBhcmUgbm8gY2xlYXIgb3V0bGllcnMgaW4gdGhlIGRhdGEuCldlIGNhbiBzZWUgdGhhdCB0aGUgbWVhbiBmcmVzaHdlaWdodCBpcyB2ZXJ5IGNvbXBhcmFibGUKYmV0d2VlbiB0aGUgY29udHJvbCBhbmQgcmVmb2FrIHRyZWF0bWVudHMgYW5kIGJldHdlZW4gdGhlCmNvbXBvc3QgYW5kIGNvYmMgdHJlYXRtZW50cy4gV2UgY2FuIGFsc28gc2VlIHRoYXQgdGhlIG1lYW4KZnJlc2h3ZWlnaHQgaXMgbXVjaCBoaWdoZXIgaW4gdGhlIGNvYmMgYW5kIGNvbnRyb2wgdHJlYXRtZW50cwp0aGFuIGluIHRoZSBjb250cm9sIGFuZCByZWZvYWsgdHJlYXRtZW50cy4gQnV0IGlzIHRoaXMKb2JzZXJ2ZWQgZGlmZmVyZW5jZSBzaWduaWZpY2FudD8KCiMgQU5PVkEKClRvIHN0dWR5IGlmIHRoZSBvYnNlcnZlZCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlCmF2ZXJhZ2UgZnJlc2h3ZWlnaHQgdmFsdWVzIG9mIHRoZSBkaWZmZXJlbnQgdHJlYXRtZW50IGdyb3VwcwphcmUgc2lnbmlmaWNhbnQsIHdlIG1heSBwZXJmb3JtIGFuIEFOT1ZBLgoKIyMgRm9ybXVsYXRlIG51bGwgYW5kIGFsdGVybmF0aXZlIGh5cG90aGVzZXMKClRoZSBudWxsIGh5cG90aGVzaXMgb2YgQU5PVkEgc3RhdGVzIHRoYXQ6CiRIMCQ6IFRoZSBtZWFuIGZyZXNod2VpZ3RoIGlzIGVxdWFsIGJldHdlZW4gdGhlIGRpZmZlcmVudCB0cmVhdG1lbnQgZ3JvdXBzLgoKVGhlIGFsdGVybmF0aXZlIGh5cG90aGVzaXMgb2YgQU5PVkEgc3RhdGVzIHRoYXQ6CiRIQSQ6IFRoZSBtZWFuIGZyZXNod2VpZ3RoIGZvciBhdCBsZWFzdCBvbmUgdHJlYXRtZW50IGdyb3VwIGlzIGRpZmZlcmVudApmcm9tIHRoZSBtZWFuIGZyZXNod2VpZ2h0IGluIGF0IGxlYXN0IG9uZSBvdGhlciB0cmVhdG1lbnQgZ3JvdXAuCgojIyBDaGVja2luZyB0aGUgYXNzdW1wdGlvbnMgZm9yIEFOT1ZBCgpCZWZvcmUgd2UgbWF5IHByb2NlZWQgd2l0aCB0aGUgYW5hbHlzaXMsIHdlIG11c3QgbWFrZSBzdXJlIHRoYXQgYWxsCmFzc3VtcHRpb25zIGZvciBBTk9WQSBhcmUgbWV0LiBBTk9WQSBoYXMgdGhyZWUgYXNzdW1wdGlvbnM6CgoxLiBUaGUgb2JzZXJ2YXRpb25zIGFyZSBpbmRlcGVuZGVudCBvZiBlYWNoIG90aGVyIChpbiBhbGwgZ3JvdXBzKQoyLiBUaGUgZGF0YSAoZnJlc2h3ZWlndGgpIG11c3QgYmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgKGluIGFsbCBncm91cHMpCjMuIFRoZSB2YXJpYWJpbGl0eSB3aXRoaW4gYWxsIGdyb3VwcyBpcyBzaW1pbGFyCgojIyMgQXNzdW1wdGlvbiBvZiBpbmRlcGVuZGVuY2UKClRoZSBmaXJzdCBhc3N1bXB0aW9uIGlzIG1ldDsgd2Ugc3RhcnRlZCBvZiB3aXRoIDI4IGxldHR1Y2UgcGxhbnRzIGFuZAp3ZSByYW5kb21seSBzdWJtaXR0ZWQgdGhlbSB0byBvbmUgb2YgZm91ciB0cmVhdG1lbnQgY29uZGl0aW9ucy4gVGhlcmUKaXMgbm8gcmVhc29uIHRvIGJlbGlldmUgdGhhdCB0aGUgcGxhbnRzIGRpc3BsYXkgc3lzdGVtYXRpYyBkaWZmZXJlbmNlcwpiZXR3ZWVuIHRyZWF0bWVudCBncm91cHMsIG90aGVyIHRoYW4gdGhlIGFjdHVhbCB0cmVhdG1lbnQuCgojIyMgQXNzdW1wdGlvbiBvZiBub3JtYWxpdHkKCkZvciB0aGUgc2Vjb25kIGFzc3VtcHRpb24sIHdlIG11c3QgY2hlY2sgbm9ybWFsaXR5IGluIGVhY2ggZ3JvdXAuCgpgYGB7cn0KIyMgZ2V0IHFxcGxvdHMgZm9yIGVhY2ggaW5kaXZpZHVhbCB0cmVhdG1lbnQgZ3JvdXAKcGFyKG1mcm93ID0gYygyLDIpKQpmb3IoaSBpbiBsZXZlbHMobGV0dHVjZSR0cmVhdG1lbnQpKXsKICBxcVBsb3Qoc3Vic2V0KGxldHR1Y2UsdHJlYXRtZW50ID09IGkpJGZyZXNod2VpZ2h0LCBtYWluID0gaSwgeWxhYiA9ICIiKQp9CmBgYAoKQWNjb3JkaW5nIHRvIHRoZXNlIHBsb3RzLCB0aGUgbm9ybWFsaXR5IGFzc3VtcHRpb24gaXMgbWV0CmZvciBlYWNoIGdyb3VwLiBIb3dldmVyLCB3ZSBuZWVkIHRvIGJlIGNhcmVmdWwgd2l0aCByZWx5aW5nIG9uCnRoZXNlIHBsb3RzLCBhcyB0aGV5IGFyZSBvbmx5IGJhc2VkIG9uIDcgb2JzZXJ2YXRpb25zIHBlciBncm91cC4KSW5kZWVkLCBjaGVja2luZyB0aGUgYXNzdW1wdGlvbnMgb2Ygbm9ybWFsaXR5IChhbmQgZXF1YWwgdmFyaWFuY2VzKQpvbiBzdWNoIHNtYWxsIGRhdGFzZXRzIGNhbiBiZSB0cmlja3kuIEZvciBpbnN0YW5jZSwgd2hlbgpzYW1wbGluZyA3IGRhdGFwb2ludHMgZnJvbSBkYXRhIHRoYXQgaGFzIGFuIHVuZGVybHlpbmcgZGlzdHJpYnV0aW9uCnRoYXQgaXMgbm90IG5vcm1hbGx5IGRpc3RyaWJ1dGVkLCB0aGUgc21hbGwgc2FtcGxlIG1heSBiZSBub3JtYWxseQpkaXN0cmlidXRlZCBieSBjaGFuY2UuIEVxdWl2YWxlbnRseSwgd2hlbiBzYW1wbGluZyA3IGRhdGFwb2ludHMKZnJvbSBhIG5vcm1hbCBkaXN0cmlidXRpb24sIHRoZSBzbWFsbCBzYW1wbGUgbWF5IGFwcGVhciBub3Qgbm9ybWFsbHkKZGlzdHJpYnV0ZWQuIFdlIGNhbiBzaG93IHRoaXMgYXMgZm9sbG93cy4KClNpbXVsYXRlIGZyb20gdW5pZm9ybSBkaXN0cmlidXRpb246CgpgYGB7cn0Kc2V0LnNlZWQoNSkKcGFyKG1mcm93ID0gYygzLDIpLG1hcj1jKDIsIDQsIDIsIDAuMikpCmZvciAoaSBpbiAxOjYpIHsKICB4IDwtIHJ1bmlmKDcpICMjIHNhbXBsZSA3IG9ic2VydmF0aW9ucyBmcm9tIGEgdW5pZm9ybSBkaXN0cmlidXRpb24KICBxcVBsb3QoeCx5bGFiID0gIiIpCn0KYGBgCgpFdmVuIHRob3VnaCB0aGUgZGF0YSBvcmlnaW5hdGVzIGZyb20gYSB1bmlmb3JtIGRpc3RyaWJ1dGlvbiwgc2V2ZXJhbApzYW1wbGVzIG1lZXQgdGhlIG5vcm1hbGl0eSByZXF1aXJlbWVudHMgYnkgY2hhbmNlLgoKU2FtcGxlIGZyb20gbm9ybWFsIGRpc3RyaWJ1dGlvbjoKCmBgYHtyfQpzZXQuc2VlZCg1KQpwYXIobWZyb3cgPSBjKDMsMiksbWFyPWMoMiwgNCwgMiwgMC4yKSkKZm9yIChpIGluIDE6NikgewogIHggPC0gcm5vcm0oNykgIyMgc2FtcGxlIDcgc29ic2VydmF0aW9ucyBmcm9tIGEgbm9ybWFsIGRpc3RyaWJ1dGlvbgogIHFxUGxvdCh4LHlsYWIgPSAiIikKfQpgYGAKCkV2ZW4gdGhvdWdoIHRoZSBkYXRhIG9yaWdpbmF0ZXMgZnJvbSBhIG5vcm1hbCBkaXN0cmlidXRpb24sIHNldmVyYWwKc2FtcGxlcyBkbyBub3QgbWVldCB0aGUgbm9ybWFsaXR5IHJlcXVpcmVtZW50cyBieSBjaGFuY2UuCgpBbHRlcm5hdGl2ZWx5LCB3ZSBtYXkgZ2VuZXJhdGUgYSBxcS1wbG90IG9mIHRoZSByZXNpZHVhbHMKb2YgYSBsaW5lYXIgbW9kZWwuIFRoZXNlIHJlc2lkdWFscyBzaG91bGQgYmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQKaWYgdGhlIGRhdGEgZm9yIGVhY2ggdHJlYXRtZW50IGNvbmRpdGlvbiBpcyBub3JtYWxseSBkaXN0cmlidXRlZC4KCmBgYHtyfQpmaXQgPC0gbG0oZnJlc2h3ZWlnaHR+dHJlYXRtZW50LCBsZXR0dWNlKQpwbG90KGZpdCwgd2hpY2ggPSAyLGNvbCA9IGZpdCRtb2RlbCR0cmVhdG1lbnQpCmxlZ2VuZCgnYm90dG9tcmlnaHQnLCBsZXZlbHMoZml0JG1vZGVsJHRyZWF0bWVudCksIHRleHQuY29sID0gMTo0KQpgYGAKClRoZSBkYXRhIHNlZW1zIHRvIGJlIGFwcHJveGltYXRlbHkgbm9ybWFsbHkgZGlzdHJpYnV0ZWQsCndpdGggYSBzbGlnaHQgbGVmdCBza2V3LgoKIyMjIEFzc3VtcHRpb24gb2YgZXF1YWwgdmFyaWFuY2VzCgpXZSBjYW4gY2hlY2sgdGhlIGFzc3VtcHRpb24gb2YgZXF1YWwgdmFyaWFuY2Ugd2l0aCBhIGJveHBsb3Q6CgpgYGB7cn0KbGV0dHVjZSAlPiUKICBnZ3Bsb3QoYWVzKHg9dHJlYXRtZW50LHk9ZnJlc2h3ZWlnaHQsZmlsbD10cmVhdG1lbnQpKSArCiAgc2NhbGVfZmlsbF9icmV3ZXIocGFsZXR0ZT0iUmRHeSIpICsKICB0aGVtZV9idygpICsKICBnZW9tX2JveHBsb3Qob3V0bGllci5zaGFwZT1OQSkgKwogIGdlb21faml0dGVyKHdpZHRoID0gMC4yKSArCiAgZ2d0aXRsZSgiQm94cGxvdCBvZiB0aGUgZnJlc2h3ZWlndGggZm9yIGVhY2ggdHJlYXRtZW50IGNvbmRpdGlvbiIpICsKICB5bGFiKCJmcmVzaHdlaWdodCAoZ3JhbSkiKSArCiAgc3RhdF9zdW1tYXJ5KGZ1bj1tZWFuLCBnZW9tPSJwb2ludCIsIHNoYXBlPTUsIHNpemU9MywgY29sb3I9ImJsYWNrIiwgZmlsbD0iYmxhY2siKQpgYGAKCkFzIGEgbWVhc3VyZSBvZiB2YXJpYWJpbGl0eSwgd2UgbWF5IHRha2UgdGhlIGhlaWdodApvZiBlYWNoIGJveC4gVGhpcyBpcyB0aGUgaW50ZXJ2YWwgYmV0d2Vlbgp0aGUgMjUlIGFuZCA3NSUgcXVhbnRpbGUuIEhlcmUgd2UgY2FuIHNlZSB0aGF0IHRoaXMKaW50ZXJ2YWwsIGFzIHdlbGwgYXMgdGhlIGxlbmd0aCBvZiB0aGUgd2hpc2tlcnMsIGlzCmFwcHJveGltYXRlbHkgZXF1YWwgZm9yIG1vc3QgZ3JvdXBzLiBIb3dldmVyLCB0aGUKdmFyaWFiaWxpdHkgb2YgY29iYyBkb2VzIHNlZW0gdG8gYmUgcXVpdGUgYSBiaXQgbGFyZ2VyCnRoYW4gdGhlIHZhcmlhYmlsaXR5IGluIHRoZSByZWZvYWsgZ3JvdXAuCgpXaXRoIHRoaXMgbGl0dGxlIG9ic2VydmF0aW9ucyBwZXIgZ3JvdXAsIGl0IGlzIHZlcnkKZGlmZmljdWx0IHRvIHJlbGlhYmx5IGFzc2VzcyB0aGUgYXNzdW1wdGlvbnMgb2Ygbm9ybWFsaXR5IGFuZCBlcXVhbCB2YXJpYW5jZXMuCkluIHRoaXMgdHV0b3JpYWwsIHdlIHdpbGwgYXNzdW1lIHRoYXQgYWxsIGFzc3VtcHRpb25zIGFyZSBtZXQuCioqSW4gYSBsYXRlciB0dXRvcmlhbCwgIktydXNrYWxfbGV0dHVjZV9wbGFudHMuUm1kIiwqKgoqKndlIHdpbGwgc2VlIHdvdWxkIGhhcHBlbiBpZiB3ZSBkZWNpZGUgdG8gcmVqZWN0IHRoZXNlIGFzc3VtcHRpb25zLioqCgojIyBNb2RlbGluZwoKYGBge3J9CmZpdCA8LSBsbShmcmVzaHdlaWdodH50cmVhdG1lbnQsIGRhdGE9bGV0dHVjZSkKZml0X2Fub3ZhIDwtIGFub3ZhKGZpdCkKZml0X2Fub3ZhCmBgYAoKVGhlIHAtdmFsdWUgb2YgdGhlIEFOT1ZBIGFuYWx5c2lzIGlzIGV4dHJlbWVseSBzaWduaWZpY2FudAoocC12YWx1ZSA9IGByIGZvcm1hdChmaXRfYW5vdmEkIlByKD5GKSJbMV0sZGlnaXRzPTQpYCksCnNvIHdlIHJlamVjdCB0aGUgbnVsbCBoeXBvdGhlc2lzIHRoYXQgdGhlIG1lYW4KZnJlc2h3ZWlndGggaXMgZXF1YWwgZm9yIHRoZSBkaWZmZXJlbnQgdHJlYXRtZW50IGdyb3Vwcy4KV2UgY2FuIHNheSB0aGF0IHRoZSBtZWFuIGZyZXNod2VpZ3RoIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50CmJldHdlZW4gYXQgbGVhc3QgdHdvIHRyZWF0bWVudCBncm91cHMgb24gdGhlIDUlIHNpZ25pZmljYW5jZSBsZXZlbC4KCkJhc2VkIG9uIHRoaXMgYW5hbHlzaXMsIHdlIGRvIG5vdCB5ZXQga25vdyBiZXR3ZWVuIHdoaWNoIHBhcnRpY3VsYXIKZ3JvdXBzIHRoZXJlIGlzIGEgc2lnbmlmaWNhbnQgZGlmZmVyZW5jZS4gVG8gYXNzZXNzIHRoaXMsIHdlIHdpbGwKcGVyZnJvbSB0aGUgVHVja2V5IHBvc3QtaG9jIGFuYWx5c2lzLgoKIyMgUG9zdC1ob2MgYW5hbHlzaXMKCldlIHdpbGwgcGVyZm9ybSBhIHBvc3QtaG9jIGFuYWx5c2lzIHRvIGxvb2sgYXQgdGhlIGRpZmZlcmVuY2UKaW4gZnJlc3dlaWd0aCBiZXR3ZWVuIGVhY2ggcGFpcndpc2UgY29tcGFyaXNvbiBvZiB0cmVhdG1lbnQgZ3JvdXBzLgpJbXBvcnRhbnRseSwgd2l0aCB0aGlzIHN0cmF0ZWd5LCB0aGUgcC12YWx1ZXMgd2lsbCBiZSBhdXRvbWF0aWNhbGx5CmFkanVzdGVkIGZvciBtdWx0aXBsZSB0ZXN0aW5nLgoKVGhlIG51bGwgaHlwb3RoZXNpcyBmb3IgZWFjaCBwYWlyd2lzZSB0ZXN0IGlzIHRoYXQKJEgwJCB0aGVyZSBpcyBubyBkaWZmZXJlbmNlIGluIHRoZSBhdmVyYWdlIGZyZXNod2VpZ2h0IHZhbHVlcyBiZXR3ZWVuCmJvdGggZ3JvdXBzLgoKVGhlIGFsdGVybmF0aXZlIGh5cG90aGVzaXMgZm9yIGVhY2ggcGFpcndpc2UgdGVzdCBzdGF0ZXMgdGhhdAokSEEkIHRoZXJlIGlzIGluZGVlZCBhIGRpZmZlcmVuY2UgaW4gdGhlIGF2ZXJhZ2UgZnJlc2h3ZWlnaHQgdmFsdWVzCmJldHdlZW4gYm90aCBncm91cHMuCgpgYGB7cixtZXNzYWdlPUZBTFNFfQpsaWJyYXJ5KG11bHRjb21wLCBxdWlldGx5ID0gVFJVRSkKbWNwIDwtIGdsaHQoZml0LCBsaW5mY3QgPSBtY3AodHJlYXRtZW50ID0gIlR1a2V5IikpCm1jcF9zdW1tYXJ5IDwtIHN1bW1hcnkobWNwKQptY3Bfc3VtbWFyeQoKI1dlIHdpbGwgYWxzbyBjYWxjdWxhdGUgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgb24gdGhlIG1lYW4gZGlmZmVyZW5jZXMuCm1jcF9jb25maW50IDwtIGNvbmZpbnQobWNwKQptY3BfY29uZmludApgYGAKCiMjIENvbmNsdXNpb24KCldlIGhhdmUgZm91bmQgYW4gZXh0cmVtZWx5IHNpZ25pZmljYW50IGRlcGVuZGVuY2UKKHAtdmFsdWUgPSBgciByb3VuZChmaXRfYW5vdmEkIlByKD5GKSJbMV0sZGlnaXRzPTEyKWApLApiZXR3ZWVuIHRoZSBtZWFuIGZyZXNod2VpZ3RoIGFuZCB0aGUgdHJlYXRtZW50IGNvbmRpdGlvbgpvbiB0aGUgZ2xvYmFsIDUlIHNpZ25pZmljYW5jZSBsZXZlbC4KClRoZSBtZWFuIGZyZXNod2VpZ2h0IG9mIHBsYW50cyBncm93biB3aXRoIGNvbXBvc3QgaXMgZXh0cmVtZWx5CnNpZ25pZmljYW50bHkgaGlnaGVyIGFzIGNvbXBhcmVkIHRvIGluIGNvbnRyb2wgcGxhbnRzIChUdWNrZXkgdGVzdCwKYWRqdXN0ZWQgcC12YWx1ZSA8IDAuMDAwMSwgMjAuOWcgaGlnaGVyLCA5NSUgQ0k6IFsxMy4yOyAyOC41XSkKYW5kIGFzIGNvbXBhcmVkIHRvIHJlZm9hayBwbGFudHMgKFR1Y2tleSB0ZXN0LCBhZGp1c3RlZApwLXZhbHVlIDwgMC4wMDAxLCAyMi43ZyBoaWdoZXIsIDk1JSBDSTogWzE1LjE7IDMwLjNdKS4KClRoZSBtZWFuIGZyZXNod2VpZ2h0IG9mIHBsYW50cyBncm93biB3aXRoIGNvYmMgaXMgZXh0cmVtZWx5CnNpZ25pZmljYW50bHkgaGlnaGVyIGFzIGNvbXBhcmVkIHRvIGluIGNvbnRyb2wgcGxhbnRzIChUdWNrZXkgdGVzdCwKYWRqdXN0ZWQgcC12YWx1ZSA8IDAuMDAwMSwgMTYuMWcgaGlnaGVyLCA5NSUgQ0k6IFs4LjU7IDIzLjhdKQphbmQgYXMgY29tcGFyZWQgdG8gcmVmb2FrIHBsYW50cyAoVHVja2V5IHRlc3QsIGFkanVzdGVkCnAtdmFsdWUgPCAwLjAwMDEsIDE4LjBnIGhpZ2hlciwgOTUlIENJOiBbMTAuNDsgMjUuNl0pLgoKV2UgZG8gbm90IGZpbmQgZW5vdWdoIGV2aWRlbmNlIHRvIGNsYWltIGEgZGlmZmVyZW5jZSBpbiBtZWFuCmZyZXNod2VpZ2h0IGJldHdlZW4gcmVmb2FrIGFuZCBjb250cm9sIHBsYW50cyBvciBiZXR3ZWVuIGNvYmMKYW5kIGNvbXBvc3QgcGxhbnRzLgoKV2UgbWF5IGNvbmNsdWRlIHRoYXQgc3VwcGxlbWVudGluZyBzb2lsIHdpdGggY29tcG9zdCBvciB3aXRoCmJvdGggY29tcG9zdCBhbmQgYmlvY2hhciB3aWxsIGhhdmUgYSBwb3NpdGl2ZSBlZmZlY3Qgb24gdGhlCmZyZXNod2VpZ3RoIG9mIGxldHR1Y2UgcGxhbnRzLgo=</div>
<div class="footer">
    <hr>
    This work is licensed under the <a href= "https://creativecommons.org/licenses/by-nc-sa/4.0">
    CC BY-NC-SA 4.0</a> licence.
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("07_1_lettuce_sol.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
